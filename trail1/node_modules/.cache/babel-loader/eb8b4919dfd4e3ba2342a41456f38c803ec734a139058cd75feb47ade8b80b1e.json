{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\satya3479\\\\OneDrive\\\\Desktop\\\\real\\\\trail1\\\\src\\\\components\\\\CustomizationModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport './CustomizationModal.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CustomizationModal = ({\n  isOpen,\n  onClose,\n  product,\n  onAddToCart\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [customization, setCustomization] = useState({\n    specialData: '',\n    names: '',\n    description: '',\n    event: '',\n    customEvent: '',\n    zodiacSign: '',\n    // Resin-specific\n    resinDate1: '',\n    resinDate2: '',\n    resinName1: '',\n    resinName2: '',\n    resinEvent: '',\n    resinEventDate: '',\n    resinEventOther: '',\n    // Frames-specific\n    frameName1: '',\n    frameName2: '',\n    frameDate1: '',\n    frameDate2: '',\n    frameEvent: '',\n    frameEventOther: '',\n    frameEventDate: '',\n    frameSetType: '',\n    // Custom frame type dynamic fields (UI only)\n    customNames: [],\n    // array of strings\n    customNotes: [] // array of { date: '', currency: '' }\n  });\n  const [frameVariant, setFrameVariant] = useState('');\n  const [imageFiles, setImageFiles] = useState([]);\n  const [imagePreviews, setImagePreviews] = useState([]);\n  const [imageUploading, setImageUploading] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Reset form when modal opens/closes or product changes\n  useEffect(() => {\n    if (isOpen) {\n      setCustomization({\n        specialData: '',\n        names: '',\n        description: '',\n        event: '',\n        customEvent: '',\n        zodiacSign: '',\n        resinDate1: '',\n        resinDate2: '',\n        resinName1: '',\n        resinName2: '',\n        resinEvent: '',\n        resinEventDate: '',\n        resinEventOther: '',\n        frameName1: '',\n        frameName2: '',\n        frameDate1: '',\n        frameDate2: '',\n        frameEvent: '',\n        frameEventOther: '',\n        frameEventDate: '',\n        frameSetType: '',\n        customNames: [],\n        customNotes: []\n      });\n      setImageFiles([]);\n      setImagePreviews([]);\n      // Initialize default frame variant based on selected product\n      const idOrName = (((product === null || product === void 0 ? void 0 : product.id) || '') + ' ' + ((product === null || product === void 0 ? void 0 : product.name) || '')).toLowerCase();\n      const isCustom = idOrName.includes('custom');\n      if (isCustom) {\n        setFrameVariant('custom');\n      } else {\n        const isSmall = idOrName.includes('small');\n        const idRaw = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase();\n        const explicitVariant = idRaw.includes('1-200set') || idRaw.includes('1-500set') || idRaw.includes('small1') || idRaw.includes('small2') || idRaw.includes('big2') ? product.id : null;\n        setFrameVariant(explicitVariant || (isSmall ? 'small1_1note_1name' : 'big1_1-200set_2notes_2names'));\n      }\n    }\n  }, [isOpen, product]);\n  const handleInputChange = (field, value) => {\n    setCustomization(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Custom frame handlers\n  const addCustomName = () => {\n    setCustomization(prev => ({\n      ...prev,\n      customNames: [...(prev.customNames || []), '']\n    }));\n  };\n  const updateCustomName = (idx, value) => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNames || [])];\n      arr[idx] = value;\n      return {\n        ...prev,\n        customNames: arr\n      };\n    });\n  };\n  const removeCustomName = idx => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNames || [])];\n      arr.splice(idx, 1);\n      return {\n        ...prev,\n        customNames: arr\n      };\n    });\n  };\n  const addCustomNote = () => {\n    setCustomization(prev => ({\n      ...prev,\n      customNotes: [...(prev.customNotes || []), {\n        date: '',\n        currency: ''\n      }]\n    }));\n  };\n  const updateCustomNote = (idx, field, value) => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNotes || [])];\n      arr[idx] = {\n        ...(arr[idx] || {\n          date: '',\n          currency: ''\n        }),\n        [field]: value\n      };\n      return {\n        ...prev,\n        customNotes: arr\n      };\n    });\n  };\n  const removeCustomNote = idx => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNotes || [])];\n      arr.splice(idx, 1);\n      return {\n        ...prev,\n        customNotes: arr\n      };\n    });\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files || []);\n    if (files.length) {\n      var _product$category, _product$type;\n      // Enforce image limits\n      const productType = (product === null || product === void 0 ? void 0 : (_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.toLowerCase()) || (product === null || product === void 0 ? void 0 : (_product$type = product.type) === null || _product$type === void 0 ? void 0 : _product$type.toLowerCase()) || '';\n      let limited = files;\n      if (productType.includes('resin')) {\n        // Resin: small -> 1 photo, large -> up to 4 photos\n        const isSmall = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase().includes('small') || ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes('small');\n        const maxPhotos = isSmall ? 1 : 4;\n        limited = files.slice(0, maxPhotos);\n      } else if (productType.includes('frame')) {\n        // Frames: allow up to 10 photos\n        const maxPhotos = 10;\n        limited = files.slice(0, maxPhotos);\n      }\n      setImageFiles(limited);\n      // Create previews\n      Promise.all(limited.map(file => new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result);\n        reader.readAsDataURL(file);\n      }))).then(previews => setImagePreviews(previews));\n    } else {\n      setImageFiles([]);\n      setImagePreviews([]);\n    }\n  };\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n  const uploadImages = async () => {\n    if (!imageFiles || imageFiles.length === 0) return [];\n    setImageUploading(true);\n    try {\n      const formData = new FormData();\n      imageFiles.forEach(f => formData.append('images', f));\n      // Add structured upload helpers\n      if (user !== null && user !== void 0 && user.email) formData.append('userId', user.email);\n      if (user !== null && user !== void 0 && user.name) formData.append('userName', user.name);\n      if (product !== null && product !== void 0 && product.name) formData.append('namePrefix', product.name);\n\n      // Add timeout/abort to avoid indefinite hanging\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(new Error('Upload timed out after 20s')), 20000);\n      const response = await api.post('/upload/multiple', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      const data = response.data;\n      setImageUploading(false);\n      if (data.success && Array.isArray(data.images)) {\n        var _data$images$;\n        const urls = data.images.map(x => x.imageUrl).filter(Boolean);\n        const names = data.images.map(x => x.originalName || '').filter(Boolean);\n        const folder = ((_data$images$ = data.images[0]) === null || _data$images$ === void 0 ? void 0 : _data$images$.folder) || '';\n        return {\n          urls,\n          names,\n          folder\n        };\n      }\n      console.error('Upload failed:', data.message || data);\n      return {\n        urls: [],\n        names: []\n      };\n    } catch (error) {\n      console.error('Image upload error:', error);\n      setImageUploading(false);\n      return {\n        urls: [],\n        names: []\n      };\n    }\n  };\n  const calcNameExtraCost = name => {\n    if (!name) return 0;\n    const letters = Math.min(50, (name || '').replace(/\\s+/g, '').length);\n    if (letters === 0) return 0;\n    if (letters <= 10) return letters * 45; // ≤10 letters: ₹45 per letter\n    return letters * 40; // >10 letters: ₹40 per letter from the first letter\n  };\n\n  // Price per currency denomination for custom notes in frames\n  const getNotePrice = denom => {\n    const map = {\n      '1': 499,\n      '5': 599,\n      '10': 399,\n      '20': 699,\n      '50': 1299,\n      '100': 1499,\n      '200': 1599,\n      '500': 2499\n    };\n    return map[String(denom)] || 0;\n  };\n\n  // Extract set label like \"1-200\" or \"1-500\" from variant string\n  const getSetFromVariant = variantStr => {\n    const v = String(variantStr || '');\n    const m = v.match(/(\\d+-\\d+)set/i);\n    if (m && m[1]) return m[1];\n    // Fallback based on presence of 500 vs 200 in the key\n    if (v.includes('500')) return '1-500';\n    if (v.includes('200')) return '1-200';\n    return '';\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    try {\n      var _product$category2, _product$type2;\n      console.log('[Customization] submit:start', {\n        productName: product === null || product === void 0 ? void 0 : product.name,\n        productId: product === null || product === void 0 ? void 0 : product.id\n      });\n      let imageUrl = null;\n      const productType = ((_product$category2 = product.category) === null || _product$category2 === void 0 ? void 0 : _product$category2.toLowerCase()) || ((_product$type2 = product.type) === null || _product$type2 === void 0 ? void 0 : _product$type2.toLowerCase()) || '';\n      const isFrameOrResin = productType.includes('frame') || productType.includes('resin');\n      const isFrame = productType.includes('frame') && !productType.includes('resin');\n      const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n      const isZodiac = productType.includes('zodiac') || productType.includes('coin') || productType.includes('stamp');\n\n      // Resin validation: make name(s) and at least one photo required\n      if (productType.includes('resin')) {\n        const isSmall = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase().includes('small') || ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes('small');\n        const missing = [];\n        if (isSmall) {\n          var _customization$resinN, _customization$resinE;\n          if (!((_customization$resinN = customization.resinName1) !== null && _customization$resinN !== void 0 && _customization$resinN.trim())) missing.push('Name');\n          // Require Event and Event Date for small resin\n          if (!customization.resinEvent) missing.push('Event');\n          if (customization.resinEvent === 'Other' && !((_customization$resinE = customization.resinEventOther) !== null && _customization$resinE !== void 0 && _customization$resinE.trim())) missing.push('Event (Other)');\n          if (!customization.resinEventDate) missing.push('Event Date');\n        } else {\n          var _customization$resinN2, _customization$resinN3, _customization$resinE2;\n          if (!((_customization$resinN2 = customization.resinName1) !== null && _customization$resinN2 !== void 0 && _customization$resinN2.trim())) missing.push('Person 1 Name');\n          if (!customization.resinDate1) missing.push('Person 1 Date');\n          if (!((_customization$resinN3 = customization.resinName2) !== null && _customization$resinN3 !== void 0 && _customization$resinN3.trim())) missing.push('Person 2 Name');\n          if (!customization.resinDate2) missing.push('Person 2 Date');\n          // Require Event and Event Date for large resin as well\n          if (!customization.resinEvent) missing.push('Event');\n          if (customization.resinEvent === 'Other' && !((_customization$resinE2 = customization.resinEventOther) !== null && _customization$resinE2 !== void 0 && _customization$resinE2.trim())) missing.push('Event (Other)');\n          if (!customization.resinEventDate) missing.push('Event Date');\n        }\n        if (!imageFiles || imageFiles.length === 0) missing.push('Photo');\n        if (missing.length > 0) {\n          console.log('[Customization] validation:failed', {\n            missing\n          });\n          alert(`Please provide: ${missing.join(', ')}`);\n          setIsSubmitting(false);\n          return;\n        }\n      }\n      let imageUrls = [];\n      let imageNames = [];\n      let folder = '';\n      if (isFrameOrResin && imageFiles.length > 0) {\n        console.log('[Customization] upload:start', {\n          count: imageFiles.length\n        });\n        const res = await uploadImages();\n        console.log('[Customization] upload:done', {\n          urls: res && res.urls ? res.urls.length : 0\n        });\n        imageUrls = res.urls || [];\n        imageNames = res.names || [];\n        folder = res.folder || '';\n      }\n      const customizationData = {\n        ...customization\n      };\n      if (imageUrls.length > 0) {\n        customizationData.imageUrls = imageUrls;\n        if (imageNames.length > 0) customizationData.imageNames = imageNames;\n        if (folder) customizationData.folder = folder;\n      }\n      if (isCurrencyNote) {\n        const eventValue = customization.event === 'Other' ? customization.customEvent : customization.event;\n        customizationData.description = eventValue;\n      }\n      if (isZodiac) {\n        customizationData.description = customization.zodiacSign || customization.description || '';\n      }\n\n      // Frames-specific aggregation & validation\n      if (isFrame) {\n        const isSmall = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase().includes('small') || ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes('small');\n        const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n        const idRaw = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase();\n        const variant = frameVariant || (idRaw.includes('1-200set') || idRaw.includes('1-500set') || idRaw.includes('small1') || idRaw.includes('small2') || idRaw.includes('big2') ? product.id : isSmall ? 'small1_1note_1name' : 'big1_1-200set_2notes_2names');\n\n        // Validation\n        const missing = [];\n        if (!imageFiles || imageFiles.length === 0) missing.push('At least 1 Photo');\n        if (variant.startsWith('small1')) {\n          var _customization$frameN, _customization$frameE;\n          if (!((_customization$frameN = customization.frameName1) !== null && _customization$frameN !== void 0 && _customization$frameN.trim())) missing.push('Name');\n          if (!customization.frameEvent) missing.push('Event');\n          if (customization.frameEvent === 'Other' && !((_customization$frameE = customization.frameEventOther) !== null && _customization$frameE !== void 0 && _customization$frameE.trim())) missing.push('Event (Other)');\n          if (!customization.frameEventDate) missing.push('Event Date');\n        } else if (variant.startsWith('small2')) {\n          var _customization$frameN2, _customization$frameN3, _customization$frameE2;\n          if (!((_customization$frameN2 = customization.frameName1) !== null && _customization$frameN2 !== void 0 && _customization$frameN2.trim())) missing.push('Name 1');\n          if (!customization.frameDate1) missing.push('Date 1');\n          if (!((_customization$frameN3 = customization.frameName2) !== null && _customization$frameN3 !== void 0 && _customization$frameN3.trim())) missing.push('Name 2');\n          if (!customization.frameDate2) missing.push('Date 2');\n          if (!customization.frameEvent) missing.push('Event');\n          if (customization.frameEvent === 'Other' && !((_customization$frameE2 = customization.frameEventOther) !== null && _customization$frameE2 !== void 0 && _customization$frameE2.trim())) missing.push('Event (Other)');\n        } else if (variant.startsWith('big1')) {\n          var _customization$frameE3, _customization$frameN4, _customization$frameN5;\n          if (!customization.frameEvent) missing.push('Event');\n          if (customization.frameEvent === 'Other' && !((_customization$frameE3 = customization.frameEventOther) !== null && _customization$frameE3 !== void 0 && _customization$frameE3.trim())) missing.push('Event (Other)');\n          if (!customization.frameEventDate) missing.push('Event Date');\n          if (!((_customization$frameN4 = customization.frameName1) !== null && _customization$frameN4 !== void 0 && _customization$frameN4.trim())) missing.push('Name 1');\n          if (!customization.frameDate1) missing.push('Date 1');\n          if (!((_customization$frameN5 = customization.frameName2) !== null && _customization$frameN5 !== void 0 && _customization$frameN5.trim())) missing.push('Name 2');\n          if (!customization.frameDate2) missing.push('Date 2');\n        } else if (variant.startsWith('big2')) {\n          var _customization$frameE4, _customization$frameN6, _customization$frameN7;\n          if (!customization.frameEvent) missing.push('Event');\n          if (customization.frameEvent === 'Other' && !((_customization$frameE4 = customization.frameEventOther) !== null && _customization$frameE4 !== void 0 && _customization$frameE4.trim())) missing.push('Event (Other)');\n          if (!customization.frameEventDate) missing.push('Event Date');\n          if (!((_customization$frameN6 = customization.frameName1) !== null && _customization$frameN6 !== void 0 && _customization$frameN6.trim())) missing.push('Name 1');\n          if (!customization.frameDate1) missing.push('Date 1');\n          if (!((_customization$frameN7 = customization.frameName2) !== null && _customization$frameN7 !== void 0 && _customization$frameN7.trim())) missing.push('Name 2');\n          if (!customization.frameDate2) missing.push('Date 2');\n        } else if (variant === 'custom') {\n          // Custom: require at least 3 Notes with both Date and Currency\n          const validNotes = (customization.customNotes || []).filter(n => (n === null || n === void 0 ? void 0 : n.date) && (n === null || n === void 0 ? void 0 : n.currency));\n          if (validNotes.length < 3) missing.push('At least 3 Notes (with Date and Currency)');\n        }\n        if (missing.length > 0) {\n          alert(`Please provide: ${missing.join(', ')}`);\n          return;\n        }\n        const basePrice = Number(product.price) || 0;\n        if (variant === 'custom') {\n          // Compute extras from all custom names and notes (denomination-based)\n          const namesArr = customization.customNames || [];\n          const nameItems = namesArr.map((nm, i) => {\n            const letters = Math.min(50, (nm || '').replace(/\\s+/g, '').length);\n            const cost = calcNameExtraCost(nm);\n            return {\n              label: `Name ${i + 1}`,\n              letters,\n              cost\n            };\n          });\n          const noteItems = (customization.customNotes || []).map((n, i) => {\n            const denom = (n === null || n === void 0 ? void 0 : n.currency) || '';\n            const cost = denom ? getNotePrice(denom) : 0;\n            return denom ? {\n              label: `Note ${i + 1} (${denom})`,\n              denomination: denom,\n              cost\n            } : null;\n          }).filter(Boolean);\n          const totalExtras = [...nameItems, ...noteItems].reduce((s, x) => s + x.cost, 0);\n\n          // Build customization payload for custom\n          const finalEvent = customization.frameEvent === 'Other' ? customization.frameEventOther : customization.frameEvent;\n          customizationData.description = `${isSmall ? 'Small Frame' : 'Large Frame'} ${sizeText} • Custom`;\n          customizationData.event = finalEvent || '';\n          customizationData.customEvent = customization.frameEvent === 'Other' ? customization.frameEventOther || '' : '';\n          if (customization.frameEventDate) customizationData.frameEventDate = customization.frameEventDate;\n          customizationData.customNames = namesArr;\n          customizationData.customNotes = (customization.customNotes || []).map(n => ({\n            date: (n === null || n === void 0 ? void 0 : n.date) || '',\n            currency: (n === null || n === void 0 ? void 0 : n.currency) || ''\n          }));\n          customizationData.priceBreakdown = {\n            base: basePrice,\n            extras: [...nameItems, ...noteItems],\n            totalExtras\n          };\n          const finalProduct = {\n            ...product,\n            price: basePrice + totalExtras\n          };\n          console.log('[Customization] addToCart:custom:start');\n          onAddToCart(finalProduct, 1, customizationData);\n          console.log('[Customization] addToCart:custom:done');\n          onClose();\n          return;\n        } else {\n          // Compute extras using same name pricing logic for predefined variants\n          const letters1 = Math.min(50, (customization.frameName1 || '').replace(/\\s+/g, '').length);\n          const letters2 = Math.min(50, (customization.frameName2 || '').replace(/\\s+/g, '').length);\n          const name1Cost = customization.frameName1 ? calcNameExtraCost(customization.frameName1) : 0;\n          const name2Cost = customization.frameName2 ? calcNameExtraCost(customization.frameName2) : 0;\n          const totalExtras = variant.includes('2names') ? name1Cost + name2Cost : name1Cost;\n\n          // Build customization payload\n          const finalEvent = customization.frameEvent === 'Other' ? customization.frameEventOther : customization.frameEvent;\n          const setLabel = getSetFromVariant(variant);\n          customizationData.description = `${isSmall ? 'Small Frame' : 'Large Frame'} ${sizeText}${!isSmall && setLabel ? ` • Set: ${setLabel}` : ''}`;\n          customizationData.specialData = variant.startsWith('small1') ? customization.frameEventDate || '' : '';\n          customizationData.event = finalEvent || '';\n          customizationData.customEvent = customization.frameEvent === 'Other' ? customization.frameEventOther || '' : '';\n          if (customization.frameName1) customizationData.frameName1 = customization.frameName1;\n          if (customization.frameName2) customizationData.frameName2 = customization.frameName2;\n          if (customization.frameDate1) customizationData.frameDate1 = customization.frameDate1;\n          if (customization.frameDate2) customizationData.frameDate2 = customization.frameDate2;\n          if (customization.frameEventDate) customizationData.frameEventDate = customization.frameEventDate;\n          if (!isSmall) customizationData.frameSetType = setLabel || '';\n          customizationData.priceBreakdown = {\n            base: basePrice,\n            extras: [...(customization.frameName1 ? [{\n              label: 'Name 1',\n              letters: letters1,\n              cost: name1Cost\n            }] : []), ...(customization.frameName2 ? [{\n              label: 'Name 2',\n              letters: letters2,\n              cost: name2Cost\n            }] : [])],\n            totalExtras: totalExtras\n          };\n\n          // Adjust price and add to cart\n          const finalProduct = {\n            ...product,\n            price: basePrice + totalExtras\n          };\n          console.log('[Customization] addToCart:frame:start');\n          onAddToCart(finalProduct, 1, customizationData);\n          console.log('[Customization] addToCart:frame:done');\n          onClose();\n          return;\n        }\n      }\n\n      // Resin-specific aggregation: dates, names, pricing and description\n      if (productType.includes('resin')) {\n        const isSmall = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase().includes('small') || ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes('small');\n        const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n\n        // Compute extra costs\n        let extraCost = 0;\n        const basePrice = Number(product.price) || 0;\n        if (isSmall) {\n          const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n          const name1Cost = calcNameExtraCost(customization.resinName1);\n          extraCost += name1Cost;\n          // For small: keep fields separate to avoid duplication\n          customizationData.names = customization.resinName1 || '';\n          customizationData.specialData = customization.resinEventDate || '';\n          const finalResinEvent = customization.resinEvent === 'Other' ? customization.resinEventOther : customization.resinEvent;\n          customizationData.resinEvent = finalResinEvent || '';\n          customizationData.resinEventDate = customization.resinEventDate || '';\n          customizationData.description = `Small Resin ${sizeText}`;\n          customizationData.priceBreakdown = {\n            base: basePrice,\n            extras: [{\n              label: 'Name 1',\n              letters: letters1,\n              cost: name1Cost\n            }],\n            totalExtras: name1Cost\n          };\n        } else {\n          const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n          const letters2 = Math.min(50, (customization.resinName2 || '').replace(/\\s+/g, '').length);\n          const name1Cost = calcNameExtraCost(customization.resinName1);\n          const name2Cost = calcNameExtraCost(customization.resinName2);\n          extraCost += name1Cost + name2Cost;\n          // For large: combine Name + Date per person in description only (avoid duplicates)\n          customizationData.names = '';\n          customizationData.specialData = '';\n          const p1 = `${customization.resinName1 || 'N/A'} (${customization.resinDate1 || 'N/A'})`;\n          const p2 = `${customization.resinName2 || 'N/A'} (${customization.resinDate2 || 'N/A'})`;\n          customizationData.description = `Large Resin ${sizeText} | Person 1: ${p1} | Person 2: ${p2}`;\n          customizationData.resinEventDate = customization.resinEventDate || '';\n          const finalResinEvent = customization.resinEvent === 'Other' ? customization.resinEventOther : customization.resinEvent;\n          customizationData.resinEvent = finalResinEvent || '';\n          customizationData.priceBreakdown = {\n            base: basePrice,\n            extras: [{\n              label: 'Name 1',\n              letters: letters1,\n              cost: name1Cost\n            }, {\n              label: 'Name 2',\n              letters: letters2,\n              cost: name2Cost\n            }],\n            totalExtras: name1Cost + name2Cost\n          };\n        }\n\n        // Adjust product price with extra cost\n        const finalProduct = {\n          ...product,\n          price: basePrice + extraCost\n        };\n        console.log('[Customization] addToCart:resin:start');\n        onAddToCart(finalProduct, 1, customizationData);\n        console.log('[Customization] addToCart:resin:done');\n        onClose();\n        return;\n      }\n      console.log('[Customization] addToCart:default:start');\n      onAddToCart(product, 1, customizationData);\n      console.log('[Customization] addToCart:default:done');\n      onClose();\n    } finally {\n      console.log('[Customization] submit:finally:setIsSubmitting(false)');\n      setIsSubmitting(false);\n    }\n  };\n  const getPlaceholderText = field => {\n    var _product$category3, _product$type3;\n    if (!product) return '';\n    const productType = ((_product$category3 = product.category) === null || _product$category3 === void 0 ? void 0 : _product$category3.toLowerCase()) || ((_product$type3 = product.type) === null || _product$type3 === void 0 ? void 0 : _product$type3.toLowerCase()) || '';\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Anniversary (12/05/2020), Birthday (15/08/1995)';\n        }\n        if (productType.includes('zodiac') || productType.includes('coin')) {\n          return 'e.g., Leo, Virgo, Scorpio';\n        }\n        return 'Special date or occasion';\n      case 'description':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'e.g., Wedding special with bride and groom, 25th Anniversary gift, Birthday surprise for mom';\n        }\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Gift for dad\\'s retirement, Lucky number for business, Special memory from our wedding day';\n        }\n        return 'Additional details or description';\n      default:\n        return '';\n    }\n  };\n  const getFieldLabel = field => {\n    var _product$category4, _product$type4;\n    if (!product) return '';\n    const productType = ((_product$category4 = product.category) === null || _product$category4 === void 0 ? void 0 : _product$category4.toLowerCase()) || ((_product$type4 = product.type) === null || _product$type4 === void 0 ? void 0 : _product$type4.toLowerCase()) || '';\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'Special Date *';\n        }\n        return 'Special Information';\n      case 'names':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'Names';\n        }\n        return 'Names';\n      case 'description':\n        return 'Description';\n      default:\n        return '';\n    }\n  };\n  const shouldShowField = field => {\n    var _product$category5, _product$type5;\n    if (!product) return false;\n    const productType = ((_product$category5 = product.category) === null || _product$category5 === void 0 ? void 0 : _product$category5.toLowerCase()) || ((_product$type5 = product.type) === null || _product$type5 === void 0 ? void 0 : _product$type5.toLowerCase()) || '';\n    switch (field) {\n      case 'specialData':\n        return productType.includes('currency') || productType.includes('note');\n      case 'names':\n        return false;\n      // Remove names field completely\n\n      case 'description':\n        // Hide generic description for frames and resin; show for currency/note only\n        return productType.includes('currency') || productType.includes('note');\n      default:\n        return false;\n    }\n  };\n\n  // Check if this is a frame or resin product to show image upload\n  const shouldShowImageUpload = () => {\n    var _product$category6, _product$type6;\n    if (!product) return false;\n    const productType = ((_product$category6 = product.category) === null || _product$category6 === void 0 ? void 0 : _product$category6.toLowerCase()) || ((_product$type6 = product.type) === null || _product$type6 === void 0 ? void 0 : _product$type6.toLowerCase()) || '';\n    return productType.includes('frame') || productType.includes('resin');\n  };\n  if (!isOpen || !product) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"customization-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"customization-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Order Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"product-price\",\n            children: [\"\\u20B9\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"customization-form\",\n          children: [((_product$category7, _product$type7) => {\n            const productType = ((_product$category7 = product.category) === null || _product$category7 === void 0 ? void 0 : _product$category7.toLowerCase()) || ((_product$type7 = product.type) === null || _product$type7 === void 0 ? void 0 : _product$type7.toLowerCase()) || '';\n            const isResin = productType.includes('resin');\n            if (!isResin) return null;\n            const isSmall = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase().includes('small') || ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes('small');\n            const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n            const maxPhotos = isSmall ? 1 : 4;\n            const extraCostSmall = calcNameExtraCost(customization.resinName1);\n            const extraCostLarge = calcNameExtraCost(customization.resinName1) + calcNameExtraCost(customization.resinName2);\n            const extraCost = isSmall ? extraCostSmall : extraCostLarge;\n            const finalPrice = Number(product.price) + extraCost;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resin-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-static\",\n                  children: [\"Size: \", sizeText]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 19\n              }, this), isSmall ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinName1\",\n                    children: \"Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"resinName1\",\n                    value: customization.resinName1,\n                    onChange: e => handleInputChange('resinName1', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Provide the Event and Event Date below. Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinEvent\",\n                    children: \"Event *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"resinEvent\",\n                    value: customization.resinEvent,\n                    onChange: e => handleInputChange('resinEvent', e.target.value),\n                    className: \"form-input\",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Select an Event --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 650,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Anniversary\",\n                      children: \"Anniversary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Wedding\",\n                      children: \"Wedding\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 652,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Birthday\",\n                      children: \"Birthday\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 653,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"House Warming Ceremony\",\n                      children: \"House Warming Ceremony\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 654,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Retirement\",\n                      children: \"Retirement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 655,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 25\n                  }, this), customization.resinEvent === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: customization.resinEventOther,\n                    onChange: e => handleInputChange('resinEventOther', e.target.value),\n                    placeholder: \"Please specify the event\",\n                    className: \"form-input\",\n                    style: {\n                      marginTop: '10px'\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 659,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: \"Required: choose an occasion for this resin.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinEventDate\",\n                    children: \"Event Date *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"resinEventDate\",\n                    value: customization.resinEventDate,\n                    onChange: e => handleInputChange('resinEventDate', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: \"Required: event date for this resin.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 681,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinName1\",\n                    children: \"Person 1 Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 687,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"resinName1\",\n                    value: customization.resinName1,\n                    onChange: e => handleInputChange('resinName1', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Enter Date 1 below this name. Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinDate1\",\n                    children: \"Date 1 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 700,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"resinDate1\",\n                    value: customization.resinDate1,\n                    onChange: e => handleInputChange('resinDate1', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 701,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinName2\",\n                    children: \"Person 2 Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"resinName2\",\n                    value: customization.resinName2,\n                    onChange: e => handleInputChange('resinName2', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 712,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Enter Date 2 below this name. Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 721,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinDate2\",\n                    children: \"Date 2 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"resinDate2\",\n                    value: customization.resinDate2,\n                    onChange: e => handleInputChange('resinDate2', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinEvent\",\n                    children: \"Event *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"resinEvent\",\n                    value: customization.resinEvent,\n                    onChange: e => handleInputChange('resinEvent', e.target.value),\n                    className: \"form-input\",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Select an Event --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 743,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Anniversary\",\n                      children: \"Anniversary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 744,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Wedding\",\n                      children: \"Wedding\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 745,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Birthday\",\n                      children: \"Birthday\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 746,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"House Warming Ceremony\",\n                      children: \"House Warming Ceremony\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 747,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Retirement\",\n                      children: \"Retirement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 748,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 749,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 736,\n                    columnNumber: 25\n                  }, this), customization.resinEvent === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: customization.resinEventOther,\n                    onChange: e => handleInputChange('resinEventOther', e.target.value),\n                    placeholder: \"Please specify the event\",\n                    className: \"form-input\",\n                    style: {\n                      marginTop: '10px'\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: \"Required: choose an occasion for this resin.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"resinEventDate\",\n                    children: \"Event Date *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 765,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"resinEventDate\",\n                    value: customization.resinEventDate,\n                    onChange: e => handleInputChange('resinEventDate', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: \"Required: a special event date for the resin.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 774,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"resinImages\",\n                  children: [\"Upload Photo\", maxPhotos > 1 ? 's' : '', \" \", maxPhotos > 1 ? `(up to ${maxPhotos})` : '(only 1)']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 780,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  id: \"resinImages\",\n                  onChange: handleImageChange,\n                  accept: \"image/*\",\n                  multiple: maxPhotos > 1,\n                  required: true,\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 781,\n                  columnNumber: 21\n                }, this), imagePreviews && imagePreviews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-preview\",\n                  style: {\n                    display: 'grid',\n                    gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))',\n                    gap: '8px',\n                    marginTop: '10px'\n                  },\n                  children: imagePreviews.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: src,\n                    alt: `Preview ${idx + 1}`,\n                    style: {\n                      width: '100%',\n                      height: '80px',\n                      objectFit: 'cover',\n                      borderRadius: '6px'\n                    }\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 793,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 791,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-static\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Price Breakdown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 801,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 801,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Base Price: \\u20B9\", Number(product.price)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 802,\n                    columnNumber: 23\n                  }, this), extraCost > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: isSmall ? (() => {\n                      const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n                      const name1Cost = calcNameExtraCost(customization.resinName1);\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Name (letters: \", letters1, \"): \\u20B9\", name1Cost]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 810,\n                        columnNumber: 33\n                      }, this);\n                    })() : (() => {\n                      const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n                      const letters2 = Math.min(50, (customization.resinName2 || '').replace(/\\s+/g, '').length);\n                      const name1Cost = calcNameExtraCost(customization.resinName1);\n                      const name2Cost = calcNameExtraCost(customization.resinName2);\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [customization.resinName1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Name 1 (letters: \", letters1, \"): \\u20B9\", name1Cost]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 821,\n                          columnNumber: 64\n                        }, this), customization.resinName2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Name 2 (letters: \", letters2, \"): \\u20B9\", name2Cost]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 822,\n                          columnNumber: 64\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Extras Total: \\u20B9\", name1Cost + name2Cost]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 823,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true);\n                    })()\n                  }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"Final Price: \\u20B9\", finalPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 830,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 830,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this);\n          })(), ((_product$category8, _product$type8) => {\n            const productType = ((_product$category8 = product.category) === null || _product$category8 === void 0 ? void 0 : _product$category8.toLowerCase()) || ((_product$type8 = product.type) === null || _product$type8 === void 0 ? void 0 : _product$type8.toLowerCase()) || '';\n            const isFrame = productType.includes('frame') && !productType.includes('resin');\n            if (!isFrame) return null;\n            const isSmall = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase().includes('small') || ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes('small');\n            const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n            const maxPhotos = 10;\n            const idOrNameRender = (((product === null || product === void 0 ? void 0 : product.id) || '') + ' ' + ((product === null || product === void 0 ? void 0 : product.name) || '')).toLowerCase();\n            const idRawR = ((product === null || product === void 0 ? void 0 : product.id) || '').toLowerCase();\n            const variant = frameVariant || (idOrNameRender.includes('custom') ? 'custom' : idRawR.includes('1-200set') || idRawR.includes('1-500set') || idRawR.includes('small1') || idRawR.includes('small2') || idRawR.includes('big2') ? product.id : isSmall ? 'small1_1note_1name' : 'big1_1-200set_2notes_2names');\n            const extraCost = variant === 'custom' ? (customization.customNames || []).reduce((sum, n) => sum + calcNameExtraCost(n), 0) + (customization.customNotes || []).reduce((sum, note) => sum + (note !== null && note !== void 0 && note.currency ? getNotePrice(note.currency) : 0), 0) : variant.includes('2names') ? calcNameExtraCost(customization.frameName1) + calcNameExtraCost(customization.frameName2) : calcNameExtraCost(customization.frameName1);\n            const finalPrice = Number(product.price) + extraCost;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"frame-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-static\",\n                  children: [\"Size: \", sizeText]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 857,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-static\",\n                  children: [\"Frame Type: \", (() => {\n                    if (variant === 'custom') return 'Custom';\n                    if (isSmall) {\n                      if (variant === 'small1_1note_1name') return 'Small (Type 1)';\n                      if (variant === 'small2_2notes_2names') return 'Small (Type 2)';\n                      return 'Small';\n                    } else {\n                      if (variant === 'big1_1-200set_2notes_2names') return 'Big (Type 1)';\n                      if (variant === 'big1_1-500set_2notes_2names') return 'Big (Type 2)';\n                      if (variant === 'big2_1-500set_2notes_2names') return 'Big (Type 2)';\n                      return 'Big';\n                    }\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 19\n              }, this), variant === 'custom' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Names\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-outline\",\n                      onClick: addCustomName,\n                      children: \"Add Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 887,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 885,\n                    columnNumber: 25\n                  }, this), (customization.customNames || []).map((nm, i) => {\n                    const letters = Math.min(50, (nm || '').replace(/\\s+/g, '').length);\n                    const cost = calcNameExtraCost(nm);\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'grid',\n                        gridTemplateColumns: '1fr auto',\n                        gap: '8px',\n                        marginTop: '8px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: nm,\n                        onChange: e => updateCustomName(i, e.target.value),\n                        className: \"form-input\",\n                        placeholder: `Name ${i + 1}`,\n                        maxLength: 50\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 894,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-outline\",\n                        onClick: () => removeCustomName(i),\n                        children: \"Remove\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 902,\n                        columnNumber: 31\n                      }, this), nm && /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          gridColumn: '1 / -1',\n                          fontSize: '0.85rem',\n                          color: '#555'\n                        },\n                        children: [\"Letters: \", letters, \" \\u2014 \\u20B9\", cost]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 904,\n                        columnNumber: 33\n                      }, this)]\n                    }, `cname-${i}`, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 893,\n                      columnNumber: 29\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 884,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Notes (min 3)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 916,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-outline\",\n                      onClick: addCustomNote,\n                      children: \"Add Note\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 917,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 915,\n                    columnNumber: 25\n                  }, this), (customization.customNotes || []).map((note, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'grid',\n                      gridTemplateColumns: '1fr 1fr auto',\n                      gap: '8px',\n                      marginTop: '8px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      value: (note === null || note === void 0 ? void 0 : note.date) || '',\n                      onChange: e => updateCustomNote(i, 'date', e.target.value),\n                      className: \"form-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 921,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: (note === null || note === void 0 ? void 0 : note.currency) || '',\n                      onChange: e => updateCustomNote(i, 'currency', e.target.value),\n                      className: \"form-input\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Currency\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 932,\n                        columnNumber: 31\n                      }, this), [1, 5, 10, 20, 50, 100, 200, 500].map(v => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: String(v),\n                        children: v\n                      }, v, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 934,\n                        columnNumber: 33\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 927,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-outline\",\n                      onClick: () => removeCustomNote(i),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 937,\n                      columnNumber: 29\n                    }, this)]\n                  }, `cnote-${i}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 920,\n                    columnNumber: 27\n                  }, this)), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: \"Add at least 3 notes with both Date and Currency.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 940,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), variant.startsWith('small1') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameName1\",\n                    children: \"Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"frameName1\",\n                    value: customization.frameName1,\n                    onChange: e => handleInputChange('frameName1', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 948,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 957,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 946,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameEvent\",\n                    children: \"Event *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 960,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"frameEvent\",\n                    value: customization.frameEvent,\n                    onChange: e => handleInputChange('frameEvent', e.target.value),\n                    className: \"form-input\",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Select an Event --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 968,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Anniversary\",\n                      children: \"Anniversary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 969,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Wedding\",\n                      children: \"Wedding\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 970,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Birthday\",\n                      children: \"Birthday\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 971,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"House Warming Ceremony\",\n                      children: \"House Warming Ceremony\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 972,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Retirement\",\n                      children: \"Retirement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 973,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 974,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 961,\n                    columnNumber: 25\n                  }, this), customization.frameEvent === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: customization.frameEventOther,\n                    onChange: e => handleInputChange('frameEventOther', e.target.value),\n                    placeholder: \"Please specify the event\",\n                    className: \"form-input\",\n                    style: {\n                      marginTop: '10px'\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 977,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 959,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameEventDate\",\n                    children: \"Event Date *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 989,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"frameEventDate\",\n                    value: customization.frameEventDate,\n                    onChange: e => handleInputChange('frameEventDate', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 990,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 988,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), variant.startsWith('small2') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameName1\",\n                    children: \"Name 1 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1005,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"frameName1\",\n                    value: customization.frameName1,\n                    onChange: e => handleInputChange('frameName1', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1006,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1015,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1004,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameDate1\",\n                    children: \"Date 1 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"frameDate1\",\n                    value: customization.frameDate1,\n                    onChange: e => handleInputChange('frameDate1', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameName2\",\n                    children: \"Name 2 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1029,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"frameName2\",\n                    value: customization.frameName2,\n                    onChange: e => handleInputChange('frameName2', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1030,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1039,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1028,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameDate2\",\n                    children: \"Date 2 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1042,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"frameDate2\",\n                    value: customization.frameDate2,\n                    onChange: e => handleInputChange('frameDate2', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1043,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1041,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameEvent\",\n                    children: \"Event *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1053,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"frameEvent\",\n                    value: customization.frameEvent,\n                    onChange: e => handleInputChange('frameEvent', e.target.value),\n                    className: \"form-input\",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Select an Event --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1061,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Anniversary\",\n                      children: \"Anniversary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1062,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Wedding\",\n                      children: \"Wedding\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1063,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Birthday\",\n                      children: \"Birthday\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1064,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"House Warming Ceremony\",\n                      children: \"House Warming Ceremony\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1065,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Retirement\",\n                      children: \"Retirement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1066,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1067,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1054,\n                    columnNumber: 25\n                  }, this), customization.frameEvent === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: customization.frameEventOther,\n                    onChange: e => handleInputChange('frameEventOther', e.target.value),\n                    placeholder: \"Please specify the event\",\n                    className: \"form-input\",\n                    style: {\n                      marginTop: '10px'\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1070,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), variant.startsWith('big') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [!isSmall && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-static\",\n                    children: [\"Set: \", getSetFromVariant(variant)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1088,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1087,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameEvent\",\n                    children: \"Event *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1092,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"frameEvent\",\n                    value: customization.frameEvent,\n                    onChange: e => handleInputChange('frameEvent', e.target.value),\n                    className: \"form-input\",\n                    required: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"-- Select an Event --\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1100,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Anniversary\",\n                      children: \"Anniversary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1101,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Wedding\",\n                      children: \"Wedding\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1102,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Birthday\",\n                      children: \"Birthday\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1103,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"House Warming Ceremony\",\n                      children: \"House Warming Ceremony\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1104,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Retirement\",\n                      children: \"Retirement\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1105,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1106,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1093,\n                    columnNumber: 25\n                  }, this), customization.frameEvent === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: customization.frameEventOther,\n                    onChange: e => handleInputChange('frameEventOther', e.target.value),\n                    placeholder: \"Please specify the event\",\n                    className: \"form-input\",\n                    style: {\n                      marginTop: '10px'\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1109,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1091,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameEventDate\",\n                    children: \"Event Date *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1121,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"frameEventDate\",\n                    value: customization.frameEventDate,\n                    onChange: e => handleInputChange('frameEventDate', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1122,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: \"Event and Event Date will appear in the set.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1130,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameName1\",\n                    children: \"Name 1 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"frameName1\",\n                    value: customization.frameName1,\n                    onChange: e => handleInputChange('frameName1', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1134,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1143,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1132,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameDate1\",\n                    children: \"Date 1 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1146,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"frameDate1\",\n                    value: customization.frameDate1,\n                    onChange: e => handleInputChange('frameDate1', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1147,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1145,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameName2\",\n                    children: \"Name 2 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1157,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"frameName2\",\n                    value: customization.frameName2,\n                    onChange: e => handleInputChange('frameName2', e.target.value),\n                    className: \"form-input\",\n                    maxLength: 50,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1158,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"helper-text\",\n                    children: [\"Pricing: \\u226410 letters: \\u20B945 flat; \", '>', \"10 letters: \\u20B940 per letter (max 50 letters).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1167,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1156,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"frameDate2\",\n                    children: \"Date 2 *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1170,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"frameDate2\",\n                    value: customization.frameDate2,\n                    onChange: e => handleInputChange('frameDate2', e.target.value),\n                    className: \"form-input\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"frameImages\",\n                  children: [\"Upload Photos (up to \", maxPhotos, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1186,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  id: \"frameImages\",\n                  onChange: handleImageChange,\n                  accept: \"image/*\",\n                  multiple: true,\n                  required: true,\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1187,\n                  columnNumber: 21\n                }, this), imagePreviews && imagePreviews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-preview\",\n                  style: {\n                    display: 'grid',\n                    gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))',\n                    gap: '8px',\n                    marginTop: '10px'\n                  },\n                  children: imagePreviews.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: src,\n                    alt: `Preview ${idx + 1}`,\n                    style: {\n                      width: '100%',\n                      height: '80px',\n                      objectFit: 'cover',\n                      borderRadius: '6px'\n                    }\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1199,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1197,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-static\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Price Breakdown\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1207,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1207,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Base Price: \\u20B9\", Number(product.price)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1208,\n                    columnNumber: 23\n                  }, this), extraCost > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: variant === 'custom' ? (() => {\n                      const nameItems = (customization.customNames || []).map((nm, i) => ({\n                        letters: Math.min(50, (nm || '').replace(/\\s+/g, '').length),\n                        cost: calcNameExtraCost(nm)\n                      }));\n                      const noteItems = (customization.customNotes || []).map((note, i) => ({\n                        currency: note === null || note === void 0 ? void 0 : note.currency,\n                        cost: note !== null && note !== void 0 && note.currency ? getNotePrice(note.currency) : 0,\n                        index: i\n                      })).filter(it => !!it.currency);\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [nameItems.map((it, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Name \", i + 1, \" (letters: \", it.letters, \"): \\u20B9\", it.cost]\n                        }, `pbname-${i}`, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1227,\n                          columnNumber: 37\n                        }, this)), noteItems.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Note \", it.index + 1, \" (\\u20B9\", it.currency, \"): \\u20B9\", it.cost]\n                        }, `pbnote-${it.index}`, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1230,\n                          columnNumber: 37\n                        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Extras Total: \\u20B9\", [...nameItems, ...noteItems].reduce((s, x) => s + x.cost, 0)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1232,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true);\n                    })() : variant.startsWith('small1') ? (() => {\n                      const letters1 = Math.min(50, (customization.frameName1 || '').replace(/\\s+/g, '').length);\n                      const name1Cost = calcNameExtraCost(customization.frameName1);\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [\"Name (letters: \", letters1, \"): \\u20B9\", name1Cost]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1241,\n                        columnNumber: 33\n                      }, this);\n                    })() : (() => {\n                      const letters1 = Math.min(50, (customization.frameName1 || '').replace(/\\s+/g, '').length);\n                      const letters2 = Math.min(50, (customization.frameName2 || '').replace(/\\s+/g, '').length);\n                      const name1Cost = calcNameExtraCost(customization.frameName1);\n                      const name2Cost = calcNameExtraCost(customization.frameName2);\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [customization.frameName1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Name 1 (letters: \", letters1, \"): \\u20B9\", name1Cost]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1252,\n                          columnNumber: 64\n                        }, this), customization.frameName2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Name 2 (letters: \", letters2, \"): \\u20B9\", name2Cost]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1253,\n                          columnNumber: 64\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Extras Total: \\u20B9\", name1Cost + name2Cost]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1254,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true);\n                    })()\n                  }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"Final Price: \\u20B9\", finalPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1261,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1261,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1206,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1205,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 17\n            }, this);\n          })(), ((_product$category9, _product$type9) => {\n            const productType = ((_product$category9 = product.category) === null || _product$category9 === void 0 ? void 0 : _product$category9.toLowerCase()) || ((_product$type9 = product.type) === null || _product$type9 === void 0 ? void 0 : _product$type9.toLowerCase()) || '';\n            const isZodiac = productType.includes('zodiac') || productType.includes('coin') || productType.includes('stamp');\n            if (!isZodiac) return null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"zodiacSign\",\n                children: \"Zodiac Sign *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"zodiacSign\",\n                value: customization.zodiacSign,\n                onChange: e => handleInputChange('zodiacSign', e.target.value),\n                className: \"form-input\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Select your Zodiac Sign --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Aries\",\n                  children: \"Aries (Mar 21 - Apr 19)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1282,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Taurus\",\n                  children: \"Taurus (Apr 20 - May 20)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Gemini\",\n                  children: \"Gemini (May 21 - Jun 20)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1284,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Cancer\",\n                  children: \"Cancer (Jun 21 - Jul 22)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1285,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Leo\",\n                  children: \"Leo (Jul 23 - Aug 22)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Virgo\",\n                  children: \"Virgo (Aug 23 - Sep 22)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Libra\",\n                  children: \"Libra (Sep 23 - Oct 22)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Scorpio\",\n                  children: \"Scorpio (Oct 23 - Nov 21)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1289,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Sagittarius\",\n                  children: \"Sagittarius (Nov 22 - Dec 21)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Capricorn\",\n                  children: \"Capricorn (Dec 22 - Jan 19)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Aquarius\",\n                  children: \"Aquarius (Jan 20 - Feb 18)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Pisces\",\n                  children: \"Pisces (Feb 19 - Mar 20)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1293,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1272,\n              columnNumber: 17\n            }, this);\n          })(), shouldShowField('specialData') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"specialData\",\n              children: getFieldLabel('specialData')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"specialData\",\n              value: customization.specialData,\n              onChange: e => handleInputChange('specialData', e.target.value),\n              className: \"form-input\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1301,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1299,\n            columnNumber: 15\n          }, this), shouldShowField('names') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"names\",\n              children: getFieldLabel('names')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"names\",\n              value: customization.names,\n              onChange: e => handleInputChange('names', e.target.value),\n              placeholder: getPlaceholderText('names'),\n              className: \"form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1313,\n            columnNumber: 15\n          }, this), shouldShowField('description') && ((_product$category0, _product$type0) => {\n            const productType = ((_product$category0 = product.category) === null || _product$category0 === void 0 ? void 0 : _product$category0.toLowerCase()) || ((_product$type0 = product.type) === null || _product$type0 === void 0 ? void 0 : _product$type0.toLowerCase()) || '';\n            const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n            if (isCurrencyNote) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"event\",\n                  children: \"Event *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1333,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"event\",\n                  value: customization.event,\n                  onChange: e => handleInputChange('event', e.target.value),\n                  className: \"form-input\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Select an Event --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1341,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Anniversary\",\n                    children: \"Anniversary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1342,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Wedding\",\n                    children: \"Wedding\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1343,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Birthday\",\n                    children: \"Birthday\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1344,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"House Warming Ceremony\",\n                    children: \"House Warming Ceremony\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1345,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Retirement\",\n                    children: \"Retirement\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1346,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1347,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1334,\n                  columnNumber: 21\n                }, this), customization.event === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customization.customEvent,\n                  onChange: e => handleInputChange('customEvent', e.target.value),\n                  placeholder: \"Please specify the event\",\n                  className: \"form-input\",\n                  style: {\n                    marginTop: '10px'\n                  },\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1350,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1332,\n                columnNumber: 19\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"description\",\n                  children: getFieldLabel('description')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1365,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"description\",\n                  value: customization.description,\n                  onChange: e => handleInputChange('description', e.target.value),\n                  placeholder: getPlaceholderText('description'),\n                  className: \"form-textarea\",\n                  rows: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1366,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1364,\n                columnNumber: 19\n              }, this);\n            }\n          })(), shouldShowField('description') && shouldShowImageUpload() && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"customImage\",\n              children: \"Upload Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"customImage\",\n              onChange: handleImageChange,\n              accept: \"image/*\",\n              multiple: true,\n              className: \"form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1383,\n              columnNumber: 17\n            }, this), imagePreviews && imagePreviews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-preview\",\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))',\n                gap: '8px',\n                marginTop: '10px'\n              },\n              children: imagePreviews.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                src: src,\n                alt: `Preview ${idx + 1}`,\n                style: {\n                  width: '100%',\n                  height: '80px',\n                  objectFit: 'cover',\n                  borderRadius: '6px'\n                }\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1394,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1392,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline\",\n              onClick: onClose,\n              disabled: imageUploading || isSubmitting,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: imageUploading || isSubmitting,\n              children: isSubmitting ? 'Submitting...' : imageUploading ? 'Uploading...' : 'Add to Cart'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1405,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 593,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomizationModal, \"mg7SQLhOjcwoDqZMmutLaCMPHww=\", false, function () {\n  return [useAuth];\n});\n_c = CustomizationModal;\nexport default CustomizationModal;\nvar _c;\n$RefreshReg$(_c, \"CustomizationModal\");","map":{"version":3,"names":["React","useState","useEffect","api","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","CustomizationModal","isOpen","onClose","product","onAddToCart","_s","user","customization","setCustomization","specialData","names","description","event","customEvent","zodiacSign","resinDate1","resinDate2","resinName1","resinName2","resinEvent","resinEventDate","resinEventOther","frameName1","frameName2","frameDate1","frameDate2","frameEvent","frameEventOther","frameEventDate","frameSetType","customNames","customNotes","frameVariant","setFrameVariant","imageFiles","setImageFiles","imagePreviews","setImagePreviews","imageUploading","setImageUploading","isSubmitting","setIsSubmitting","idOrName","id","name","toLowerCase","isCustom","includes","isSmall","idRaw","explicitVariant","handleInputChange","field","value","prev","addCustomName","updateCustomName","idx","arr","removeCustomName","splice","addCustomNote","date","currency","updateCustomNote","removeCustomNote","handleImageChange","e","files","Array","from","target","length","_product$category","_product$type","productType","category","type","limited","maxPhotos","slice","Promise","all","map","file","resolve","reader","FileReader","onloadend","result","readAsDataURL","then","previews","API_BASE","process","env","REACT_APP_API_URL","uploadImages","formData","FormData","forEach","f","append","email","controller","AbortController","timeoutId","setTimeout","abort","Error","response","post","headers","signal","clearTimeout","data","success","isArray","images","_data$images$","urls","x","imageUrl","filter","Boolean","originalName","folder","console","error","message","calcNameExtraCost","letters","Math","min","replace","getNotePrice","denom","String","getSetFromVariant","variantStr","v","m","match","handleSubmit","preventDefault","_product$category2","_product$type2","log","productName","productId","isFrameOrResin","isFrame","isCurrencyNote","isZodiac","missing","_customization$resinN","_customization$resinE","trim","push","_customization$resinN2","_customization$resinN3","_customization$resinE2","alert","join","imageUrls","imageNames","count","res","customizationData","eventValue","sizeText","variant","startsWith","_customization$frameN","_customization$frameE","_customization$frameN2","_customization$frameN3","_customization$frameE2","_customization$frameE3","_customization$frameN4","_customization$frameN5","_customization$frameE4","_customization$frameN6","_customization$frameN7","validNotes","n","basePrice","Number","price","namesArr","nameItems","nm","i","cost","label","noteItems","denomination","totalExtras","reduce","s","finalEvent","priceBreakdown","base","extras","finalProduct","letters1","letters2","name1Cost","name2Cost","setLabel","extraCost","finalResinEvent","p1","p2","getPlaceholderText","_product$category3","_product$type3","getFieldLabel","_product$category4","_product$type4","shouldShowField","_product$category5","_product$type5","shouldShowImageUpload","_product$category6","_product$type6","className","onClick","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","_product$category7","_product$type7","isResin","extraCostSmall","extraCostLarge","finalPrice","htmlFor","onChange","maxLength","required","placeholder","style","marginTop","accept","multiple","display","gridTemplateColumns","gap","src","alt","width","height","objectFit","borderRadius","_product$category8","_product$type8","idOrNameRender","idRawR","sum","note","justifyContent","alignItems","gridColumn","fontSize","color","index","it","_product$category9","_product$type9","_product$category0","_product$type0","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/satya3479/OneDrive/Desktop/real/trail1/src/components/CustomizationModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport './CustomizationModal.css';\n\nconst CustomizationModal = ({ isOpen, onClose, product, onAddToCart }) => {\n  const { user } = useAuth();\n  const [customization, setCustomization] = useState({\n    specialData: '',\n    names: '',\n    description: '',\n    event: '',\n    customEvent: '',\n    zodiacSign: '',\n    // Resin-specific\n    resinDate1: '',\n    resinDate2: '',\n    resinName1: '',\n    resinName2: '',\n    resinEvent: '',\n    resinEventDate: '',\n    resinEventOther: '',\n    // Frames-specific\n    frameName1: '',\n    frameName2: '',\n    frameDate1: '',\n    frameDate2: '',\n    frameEvent: '',\n    frameEventOther: '',\n    frameEventDate: '',\n    frameSetType: '',\n    // Custom frame type dynamic fields (UI only)\n    customNames: [], // array of strings\n    customNotes: []  // array of { date: '', currency: '' }\n  });\n  const [frameVariant, setFrameVariant] = useState('');\n  const [imageFiles, setImageFiles] = useState([]);\n  const [imagePreviews, setImagePreviews] = useState([]);\n  const [imageUploading, setImageUploading] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Reset form when modal opens/closes or product changes\n  useEffect(() => {\n    if (isOpen) {\n      setCustomization({\n        specialData: '',\n        names: '',\n        description: '',\n        event: '',\n        customEvent: '',\n        zodiacSign: '',\n        resinDate1: '',\n        resinDate2: '',\n        resinName1: '',\n        resinName2: '',\n        resinEvent: '',\n        resinEventDate: '',\n        resinEventOther: '',\n        frameName1: '',\n        frameName2: '',\n        frameDate1: '',\n        frameDate2: '',\n        frameEvent: '',\n        frameEventOther: '',\n        frameEventDate: '',\n        frameSetType: '',\n        customNames: [],\n        customNotes: []\n      });\n      setImageFiles([]);\n      setImagePreviews([]);\n      // Initialize default frame variant based on selected product\n      const idOrName = ((product?.id || '') + ' ' + (product?.name || '')).toLowerCase();\n      const isCustom = idOrName.includes('custom');\n      if (isCustom) {\n        setFrameVariant('custom');\n      } else {\n        const isSmall = idOrName.includes('small');\n        const idRaw = (product?.id || '').toLowerCase();\n        const explicitVariant = (idRaw.includes('1-200set') || idRaw.includes('1-500set') || idRaw.includes('small1') || idRaw.includes('small2') || idRaw.includes('big2'))\n          ? product.id\n          : null;\n        setFrameVariant(explicitVariant || (isSmall ? 'small1_1note_1name' : 'big1_1-200set_2notes_2names'));\n      }\n    }\n  }, [isOpen, product]);\n\n  const handleInputChange = (field, value) => {\n    setCustomization(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Custom frame handlers\n  const addCustomName = () => {\n    setCustomization(prev => ({ ...prev, customNames: [...(prev.customNames || []), ''] }));\n  };\n  const updateCustomName = (idx, value) => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNames || [])];\n      arr[idx] = value;\n      return { ...prev, customNames: arr };\n    });\n  };\n  const removeCustomName = (idx) => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNames || [])];\n      arr.splice(idx, 1);\n      return { ...prev, customNames: arr };\n    });\n  };\n  const addCustomNote = () => {\n    setCustomization(prev => ({ ...prev, customNotes: [...(prev.customNotes || []), { date: '', currency: '' }] }));\n  };\n  const updateCustomNote = (idx, field, value) => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNotes || [])];\n      arr[idx] = { ...(arr[idx] || { date: '', currency: '' }), [field]: value };\n      return { ...prev, customNotes: arr };\n    });\n  };\n  const removeCustomNote = (idx) => {\n    setCustomization(prev => {\n      const arr = [...(prev.customNotes || [])];\n      arr.splice(idx, 1);\n      return { ...prev, customNotes: arr };\n    });\n  };\n\n  const handleImageChange = (e) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length) {\n      // Enforce image limits\n      const productType = product?.category?.toLowerCase() || product?.type?.toLowerCase() || '';\n      let limited = files;\n      if (productType.includes('resin')) {\n        // Resin: small -> 1 photo, large -> up to 4 photos\n        const isSmall = (product?.id || '').toLowerCase().includes('small') || (product?.name || '').toLowerCase().includes('small');\n        const maxPhotos = isSmall ? 1 : 4;\n        limited = files.slice(0, maxPhotos);\n      } else if (productType.includes('frame')) {\n        // Frames: allow up to 10 photos\n        const maxPhotos = 10;\n        limited = files.slice(0, maxPhotos);\n      }\n\n      setImageFiles(limited);\n      // Create previews\n      Promise.all(\n        limited.map(\n          (file) =>\n            new Promise((resolve) => {\n              const reader = new FileReader();\n              reader.onloadend = () => resolve(reader.result);\n              reader.readAsDataURL(file);\n            })\n        )\n      ).then((previews) => setImagePreviews(previews));\n    } else {\n      setImageFiles([]);\n      setImagePreviews([]);\n    }\n  };\n\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\n  const uploadImages = async () => {\n    if (!imageFiles || imageFiles.length === 0) return [];\n    setImageUploading(true);\n    try {\n      const formData = new FormData();\n      imageFiles.forEach((f) => formData.append('images', f));\n      // Add structured upload helpers\n      if (user?.email) formData.append('userId', user.email);\n      if (user?.name) formData.append('userName', user.name);\n      if (product?.name) formData.append('namePrefix', product.name);\n\n      // Add timeout/abort to avoid indefinite hanging\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(new Error('Upload timed out after 20s')), 20000);\n      const response = await api.post('/upload/multiple', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n\n      const data = response.data;\n      setImageUploading(false);\n      if (data.success && Array.isArray(data.images)) {\n        const urls = data.images.map((x) => x.imageUrl).filter(Boolean);\n        const names = data.images.map((x) => x.originalName || '').filter(Boolean);\n        const folder = data.images[0]?.folder || '';\n        return { urls, names, folder };\n      }\n      console.error('Upload failed:', data.message || data);\n      return { urls: [], names: [] };\n    } catch (error) {\n      console.error('Image upload error:', error);\n      setImageUploading(false);\n      return { urls: [], names: [] };\n    }\n  };\n\n  const calcNameExtraCost = (name) => {\n    if (!name) return 0;\n    const letters = Math.min(50, (name || '').replace(/\\s+/g, '').length);\n    if (letters === 0) return 0;\n    if (letters <= 10) return letters * 45; // ≤10 letters: ₹45 per letter\n    return letters * 40; // >10 letters: ₹40 per letter from the first letter\n  };\n\n  // Price per currency denomination for custom notes in frames\n  const getNotePrice = (denom) => {\n    const map = {\n      '1': 499,\n      '5': 599,\n      '10': 399,\n      '20': 699,\n      '50': 1299,\n      '100': 1499,\n      '200': 1599,\n      '500': 2499\n    };\n    return map[String(denom)] || 0;\n  };\n\n  // Extract set label like \"1-200\" or \"1-500\" from variant string\n  const getSetFromVariant = (variantStr) => {\n    const v = String(variantStr || '');\n    const m = v.match(/(\\d+-\\d+)set/i);\n    if (m && m[1]) return m[1];\n    // Fallback based on presence of 500 vs 200 in the key\n    if (v.includes('500')) return '1-500';\n    if (v.includes('200')) return '1-200';\n    return '';\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    try {\n      console.log('[Customization] submit:start', { productName: product?.name, productId: product?.id });\n      let imageUrl = null;\n      const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n      const isFrameOrResin = productType.includes('frame') || productType.includes('resin');\n      const isFrame = productType.includes('frame') && !productType.includes('resin');\n      const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n      const isZodiac = productType.includes('zodiac') || productType.includes('coin') || productType.includes('stamp');\n\n      // Resin validation: make name(s) and at least one photo required\n      if (productType.includes('resin')) {\n        const isSmall = (product?.id || '').toLowerCase().includes('small') || (product?.name || '').toLowerCase().includes('small');\n        const missing = [];\n        if (isSmall) {\n          if (!customization.resinName1?.trim()) missing.push('Name');\n          // Require Event and Event Date for small resin\n          if (!customization.resinEvent) missing.push('Event');\n          if (customization.resinEvent === 'Other' && !customization.resinEventOther?.trim()) missing.push('Event (Other)');\n          if (!customization.resinEventDate) missing.push('Event Date');\n        } else {\n          if (!customization.resinName1?.trim()) missing.push('Person 1 Name');\n          if (!customization.resinDate1) missing.push('Person 1 Date');\n          if (!customization.resinName2?.trim()) missing.push('Person 2 Name');\n          if (!customization.resinDate2) missing.push('Person 2 Date');\n          // Require Event and Event Date for large resin as well\n          if (!customization.resinEvent) missing.push('Event');\n          if (customization.resinEvent === 'Other' && !customization.resinEventOther?.trim()) missing.push('Event (Other)');\n          if (!customization.resinEventDate) missing.push('Event Date');\n        }\n        if (!imageFiles || imageFiles.length === 0) missing.push('Photo');\n        if (missing.length > 0) {\n          console.log('[Customization] validation:failed', { missing });\n          alert(`Please provide: ${missing.join(', ')}`);\n          setIsSubmitting(false);\n          return;\n        }\n    }\n\n      let imageUrls = [];\n      let imageNames = [];\n      let folder = '';\n      if (isFrameOrResin && imageFiles.length > 0) {\n        console.log('[Customization] upload:start', { count: imageFiles.length });\n        const res = await uploadImages();\n        console.log('[Customization] upload:done', { urls: (res && res.urls ? res.urls.length : 0) });\n        imageUrls = res.urls || [];\n        imageNames = res.names || [];\n        folder = res.folder || '';\n      }\n\n    const customizationData = { ...customization };\n    if (imageUrls.length > 0) {\n      customizationData.imageUrls = imageUrls;\n      if (imageNames.length > 0) customizationData.imageNames = imageNames;\n      if (folder) customizationData.folder = folder;\n    }\n\n    if (isCurrencyNote) {\n      const eventValue = customization.event === 'Other' ? customization.customEvent : customization.event;\n      customizationData.description = eventValue;\n    }\n    if (isZodiac) {\n      customizationData.description = customization.zodiacSign || customization.description || '';\n    }\n    \n    // Frames-specific aggregation & validation\n    if (isFrame) {\n      const isSmall = (product?.id || '').toLowerCase().includes('small') || (product?.name || '').toLowerCase().includes('small');\n      const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n      const idRaw = (product?.id || '').toLowerCase();\n      const variant = frameVariant\n        || ((idRaw.includes('1-200set') || idRaw.includes('1-500set') || idRaw.includes('small1') || idRaw.includes('small2') || idRaw.includes('big2')) ? product.id : (isSmall ? 'small1_1note_1name' : 'big1_1-200set_2notes_2names'));\n\n      // Validation\n      const missing = [];\n      if (!imageFiles || imageFiles.length === 0) missing.push('At least 1 Photo');\n      if (variant.startsWith('small1')) {\n        if (!customization.frameName1?.trim()) missing.push('Name');\n        if (!customization.frameEvent) missing.push('Event');\n        if (customization.frameEvent === 'Other' && !customization.frameEventOther?.trim()) missing.push('Event (Other)');\n        if (!customization.frameEventDate) missing.push('Event Date');\n      } else if (variant.startsWith('small2')) {\n        if (!customization.frameName1?.trim()) missing.push('Name 1');\n        if (!customization.frameDate1) missing.push('Date 1');\n        if (!customization.frameName2?.trim()) missing.push('Name 2');\n        if (!customization.frameDate2) missing.push('Date 2');\n        if (!customization.frameEvent) missing.push('Event');\n        if (customization.frameEvent === 'Other' && !customization.frameEventOther?.trim()) missing.push('Event (Other)');\n      } else if (variant.startsWith('big1')) {\n        if (!customization.frameEvent) missing.push('Event');\n        if (customization.frameEvent === 'Other' && !customization.frameEventOther?.trim()) missing.push('Event (Other)');\n        if (!customization.frameEventDate) missing.push('Event Date');\n        if (!customization.frameName1?.trim()) missing.push('Name 1');\n        if (!customization.frameDate1) missing.push('Date 1');\n        if (!customization.frameName2?.trim()) missing.push('Name 2');\n        if (!customization.frameDate2) missing.push('Date 2');\n      } else if (variant.startsWith('big2')) {\n        if (!customization.frameEvent) missing.push('Event');\n        if (customization.frameEvent === 'Other' && !customization.frameEventOther?.trim()) missing.push('Event (Other)');\n        if (!customization.frameEventDate) missing.push('Event Date');\n        if (!customization.frameName1?.trim()) missing.push('Name 1');\n        if (!customization.frameDate1) missing.push('Date 1');\n        if (!customization.frameName2?.trim()) missing.push('Name 2');\n        if (!customization.frameDate2) missing.push('Date 2');\n      } else if (variant === 'custom') {\n        // Custom: require at least 3 Notes with both Date and Currency\n        const validNotes = (customization.customNotes || []).filter(n => (n?.date && n?.currency));\n        if (validNotes.length < 3) missing.push('At least 3 Notes (with Date and Currency)');\n      }\n      if (missing.length > 0) {\n        alert(`Please provide: ${missing.join(', ')}`);\n        return;\n      }\n\n      const basePrice = Number(product.price) || 0;\n\n      if (variant === 'custom') {\n        // Compute extras from all custom names and notes (denomination-based)\n        const namesArr = customization.customNames || [];\n        const nameItems = namesArr.map((nm, i) => {\n          const letters = Math.min(50, (nm || '').replace(/\\s+/g, '').length);\n          const cost = calcNameExtraCost(nm);\n          return { label: `Name ${i + 1}`, letters, cost };\n        });\n        const noteItems = (customization.customNotes || [])\n          .map((n, i) => {\n            const denom = n?.currency || '';\n            const cost = denom ? getNotePrice(denom) : 0;\n            return denom ? { label: `Note ${i + 1} (${denom})`, denomination: denom, cost } : null;\n          })\n          .filter(Boolean);\n        const totalExtras = [...nameItems, ...noteItems].reduce((s, x) => s + x.cost, 0);\n\n        // Build customization payload for custom\n        const finalEvent = customization.frameEvent === 'Other' ? customization.frameEventOther : customization.frameEvent;\n        customizationData.description = `${isSmall ? 'Small Frame' : 'Large Frame'} ${sizeText} • Custom`;\n        customizationData.event = finalEvent || '';\n        customizationData.customEvent = customization.frameEvent === 'Other' ? (customization.frameEventOther || '') : '';\n        if (customization.frameEventDate) customizationData.frameEventDate = customization.frameEventDate;\n        customizationData.customNames = namesArr;\n        customizationData.customNotes = (customization.customNotes || []).map(n => ({ date: n?.date || '', currency: n?.currency || '' }));\n\n        customizationData.priceBreakdown = {\n          base: basePrice,\n          extras: [...nameItems, ...noteItems],\n          totalExtras\n        };\n\n        const finalProduct = { ...product, price: basePrice + totalExtras };\n        console.log('[Customization] addToCart:custom:start');\n        onAddToCart(finalProduct, 1, customizationData);\n        console.log('[Customization] addToCart:custom:done');\n        onClose();\n        return;\n      } else {\n        // Compute extras using same name pricing logic for predefined variants\n        const letters1 = Math.min(50, (customization.frameName1 || '').replace(/\\s+/g, '').length);\n        const letters2 = Math.min(50, (customization.frameName2 || '').replace(/\\s+/g, '').length);\n        const name1Cost = customization.frameName1 ? calcNameExtraCost(customization.frameName1) : 0;\n        const name2Cost = customization.frameName2 ? calcNameExtraCost(customization.frameName2) : 0;\n        const totalExtras = (variant.includes('2names') ? (name1Cost + name2Cost) : name1Cost);\n\n        // Build customization payload\n        const finalEvent = customization.frameEvent === 'Other' ? customization.frameEventOther : customization.frameEvent;\n        const setLabel = getSetFromVariant(variant);\n        customizationData.description = `${isSmall ? 'Small Frame' : 'Large Frame'} ${sizeText}${(!isSmall && setLabel) ? ` • Set: ${setLabel}` : ''}`;\n        customizationData.specialData = variant.startsWith('small1') ? (customization.frameEventDate || '') : '';\n        customizationData.event = finalEvent || '';\n        customizationData.customEvent = customization.frameEvent === 'Other' ? (customization.frameEventOther || '') : '';\n        if (customization.frameName1) customizationData.frameName1 = customization.frameName1;\n        if (customization.frameName2) customizationData.frameName2 = customization.frameName2;\n        if (customization.frameDate1) customizationData.frameDate1 = customization.frameDate1;\n        if (customization.frameDate2) customizationData.frameDate2 = customization.frameDate2;\n        if (customization.frameEventDate) customizationData.frameEventDate = customization.frameEventDate;\n        if (!isSmall) customizationData.frameSetType = setLabel || '';\n\n        customizationData.priceBreakdown = {\n          base: basePrice,\n          extras: [\n            ...(customization.frameName1 ? [{ label: 'Name 1', letters: letters1, cost: name1Cost }] : []),\n            ...(customization.frameName2 ? [{ label: 'Name 2', letters: letters2, cost: name2Cost }] : [])\n          ],\n          totalExtras: totalExtras\n        };\n\n        // Adjust price and add to cart\n        const finalProduct = { ...product, price: basePrice + totalExtras };\n        console.log('[Customization] addToCart:frame:start');\n        onAddToCart(finalProduct, 1, customizationData);\n        console.log('[Customization] addToCart:frame:done');\n        onClose();\n        return;\n      }\n    }\n\n    // Resin-specific aggregation: dates, names, pricing and description\n    if (productType.includes('resin')) {\n      const isSmall = (product?.id || '').toLowerCase().includes('small') || (product?.name || '').toLowerCase().includes('small');\n      const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n\n      // Compute extra costs\n      let extraCost = 0;\n      const basePrice = Number(product.price) || 0;\n      if (isSmall) {\n        const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n        const name1Cost = calcNameExtraCost(customization.resinName1);\n        extraCost += name1Cost;\n        // For small: keep fields separate to avoid duplication\n        customizationData.names = customization.resinName1 || '';\n        customizationData.specialData = customization.resinEventDate || '';\n        const finalResinEvent = customization.resinEvent === 'Other' ? customization.resinEventOther : customization.resinEvent;\n        customizationData.resinEvent = finalResinEvent || '';\n        customizationData.resinEventDate = customization.resinEventDate || '';\n        customizationData.description = `Small Resin ${sizeText}`;\n        customizationData.priceBreakdown = {\n          base: basePrice,\n          extras: [\n            { label: 'Name 1', letters: letters1, cost: name1Cost }\n          ],\n          totalExtras: name1Cost\n        };\n      } else {\n        const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n        const letters2 = Math.min(50, (customization.resinName2 || '').replace(/\\s+/g, '').length);\n        const name1Cost = calcNameExtraCost(customization.resinName1);\n        const name2Cost = calcNameExtraCost(customization.resinName2);\n        extraCost += name1Cost + name2Cost;\n        // For large: combine Name + Date per person in description only (avoid duplicates)\n        customizationData.names = '';\n        customizationData.specialData = '';\n        const p1 = `${customization.resinName1 || 'N/A'} (${customization.resinDate1 || 'N/A'})`;\n        const p2 = `${customization.resinName2 || 'N/A'} (${customization.resinDate2 || 'N/A'})`;\n        customizationData.description = `Large Resin ${sizeText} | Person 1: ${p1} | Person 2: ${p2}`;\n        customizationData.resinEventDate = customization.resinEventDate || '';\n        const finalResinEvent = customization.resinEvent === 'Other' ? customization.resinEventOther : customization.resinEvent;\n        customizationData.resinEvent = finalResinEvent || '';\n        customizationData.priceBreakdown = {\n          base: basePrice,\n          extras: [\n            { label: 'Name 1', letters: letters1, cost: name1Cost },\n            { label: 'Name 2', letters: letters2, cost: name2Cost }\n          ],\n          totalExtras: name1Cost + name2Cost\n        };\n      }\n\n      // Adjust product price with extra cost\n      const finalProduct = { ...product, price: basePrice + extraCost };\n      console.log('[Customization] addToCart:resin:start');\n      onAddToCart(finalProduct, 1, customizationData);\n      console.log('[Customization] addToCart:resin:done');\n      onClose();\n      return;\n    }\n    \n    console.log('[Customization] addToCart:default:start');\n    onAddToCart(product, 1, customizationData);\n    console.log('[Customization] addToCart:default:done');\n    onClose();\n    } finally {\n      console.log('[Customization] submit:finally:setIsSubmitting(false)');\n      setIsSubmitting(false);\n    }\n  };\n\n  const getPlaceholderText = (field) => {\n    if (!product) return '';\n\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Anniversary (12/05/2020), Birthday (15/08/1995)';\n        }\n        if (productType.includes('zodiac') || productType.includes('coin')) {\n          return 'e.g., Leo, Virgo, Scorpio';\n        }\n        return 'Special date or occasion';\n\n      case 'description':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'e.g., Wedding special with bride and groom, 25th Anniversary gift, Birthday surprise for mom';\n        }\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Gift for dad\\'s retirement, Lucky number for business, Special memory from our wedding day';\n        }\n        return 'Additional details or description';\n\n      default:\n        return '';\n    }\n  };\n\n  const getFieldLabel = (field) => {\n    if (!product) return '';\n\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'Special Date *';\n        }\n        return 'Special Information';\n\n      case 'names':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'Names';\n        }\n        return 'Names';\n\n      case 'description':\n        return 'Description';\n\n      default:\n        return '';\n    }\n  };\n\n  const shouldShowField = (field) => {\n    if (!product) return false;\n\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n\n    switch (field) {\n      case 'specialData':\n        return productType.includes('currency') || productType.includes('note');\n      \n      case 'names':\n        return false; // Remove names field completely\n      \n      case 'description':\n        // Hide generic description for frames and resin; show for currency/note only\n        return productType.includes('currency') || productType.includes('note');\n      \n      default:\n        return false;\n    }\n  };\n\n  // Check if this is a frame or resin product to show image upload\n  const shouldShowImageUpload = () => {\n    if (!product) return false;\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n    return productType.includes('frame') || productType.includes('resin');\n  };\n\n  if (!isOpen || !product) return null;\n\n  return (\n    <div className=\"customization-modal-overlay\" onClick={onClose}>\n      <div className=\"customization-modal\" onClick={e => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h2>Order Details</h2>\n          <button className=\"close-btn\" onClick={onClose}>×</button>\n        </div>\n\n        <div className=\"modal-body\">\n          <div className=\"product-info\">\n            <h3>{product.name}</h3>\n            <p className=\"product-price\">₹{product.price}</p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"customization-form\">\n            {(() => {\n              const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n              const isResin = productType.includes('resin');\n              if (!isResin) return null;\n              const isSmall = (product?.id || '').toLowerCase().includes('small') || (product?.name || '').toLowerCase().includes('small');\n              const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n              const maxPhotos = isSmall ? 1 : 4;\n              const extraCostSmall = calcNameExtraCost(customization.resinName1);\n              const extraCostLarge = calcNameExtraCost(customization.resinName1) + calcNameExtraCost(customization.resinName2);\n              const extraCost = isSmall ? extraCostSmall : extraCostLarge;\n              const finalPrice = Number(product.price) + extraCost;\n              return (\n                <div className=\"resin-section\">\n                  {/* Resin size info */}\n                  <div className=\"form-group\">\n                    <div className=\"form-static\">Size: {sizeText}</div>\n                  </div>\n\n                  {/* Resin fields: Name, Event and Event Date */}\n                  {isSmall ? (\n                    <>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinName1\">Name *</label>\n                        <input\n                          type=\"text\"\n                          id=\"resinName1\"\n                          value={customization.resinName1}\n                          onChange={(e) => handleInputChange('resinName1', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Provide the Event and Event Date below. Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinEvent\">Event *</label>\n                        <select\n                          id=\"resinEvent\"\n                          value={customization.resinEvent}\n                          onChange={(e) => handleInputChange('resinEvent', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        >\n                          <option value=\"\">-- Select an Event --</option>\n                          <option value=\"Anniversary\">Anniversary</option>\n                          <option value=\"Wedding\">Wedding</option>\n                          <option value=\"Birthday\">Birthday</option>\n                          <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                          <option value=\"Retirement\">Retirement</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                        {customization.resinEvent === 'Other' && (\n                          <input\n                            type=\"text\"\n                            value={customization.resinEventOther}\n                            onChange={(e) => handleInputChange('resinEventOther', e.target.value)}\n                            placeholder=\"Please specify the event\"\n                            className=\"form-input\"\n                            style={{ marginTop: '10px' }}\n                            required\n                          />\n                        )}\n                        <small className=\"helper-text\">Required: choose an occasion for this resin.</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinEventDate\">Event Date *</label>\n                        <input\n                          type=\"date\"\n                          id=\"resinEventDate\"\n                          value={customization.resinEventDate}\n                          onChange={(e) => handleInputChange('resinEventDate', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                        <small className=\"helper-text\">Required: event date for this resin.</small>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinName1\">Person 1 Name *</label>\n                        <input\n                          type=\"text\"\n                          id=\"resinName1\"\n                          value={customization.resinName1}\n                          onChange={(e) => handleInputChange('resinName1', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Enter Date 1 below this name. Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinDate1\">Date 1 *</label>\n                        <input\n                          type=\"date\"\n                          id=\"resinDate1\"\n                          value={customization.resinDate1}\n                          onChange={(e) => handleInputChange('resinDate1', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinName2\">Person 2 Name *</label>\n                        <input\n                          type=\"text\"\n                          id=\"resinName2\"\n                          value={customization.resinName2}\n                          onChange={(e) => handleInputChange('resinName2', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Enter Date 2 below this name. Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinDate2\">Date 2 *</label>\n                        <input\n                          type=\"date\"\n                          id=\"resinDate2\"\n                          value={customization.resinDate2}\n                          onChange={(e) => handleInputChange('resinDate2', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinEvent\">Event *</label>\n                        <select\n                          id=\"resinEvent\"\n                          value={customization.resinEvent}\n                          onChange={(e) => handleInputChange('resinEvent', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        >\n                          <option value=\"\">-- Select an Event --</option>\n                          <option value=\"Anniversary\">Anniversary</option>\n                          <option value=\"Wedding\">Wedding</option>\n                          <option value=\"Birthday\">Birthday</option>\n                          <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                          <option value=\"Retirement\">Retirement</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                        {customization.resinEvent === 'Other' && (\n                          <input\n                            type=\"text\"\n                            value={customization.resinEventOther}\n                            onChange={(e) => handleInputChange('resinEventOther', e.target.value)}\n                            placeholder=\"Please specify the event\"\n                            className=\"form-input\"\n                            style={{ marginTop: '10px' }}\n                            required\n                          />\n                        )}\n                        <small className=\"helper-text\">Required: choose an occasion for this resin.</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"resinEventDate\">Event Date *</label>\n                        <input\n                          type=\"date\"\n                          id=\"resinEventDate\"\n                          value={customization.resinEventDate}\n                          onChange={(e) => handleInputChange('resinEventDate', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                        <small className=\"helper-text\">Required: a special event date for the resin.</small>\n                      </div>\n                    </>\n                  )}\n                  {/* Resin image upload (single image) */}\n                  <div className=\"form-group\">\n                    <label htmlFor=\"resinImages\">Upload Photo{maxPhotos > 1 ? 's' : ''} {maxPhotos > 1 ? `(up to ${maxPhotos})` : '(only 1)'}</label>\n                    <input\n                      type=\"file\"\n                      id=\"resinImages\"\n                      onChange={handleImageChange}\n                      accept=\"image/*\"\n                      multiple={maxPhotos > 1}\n                      required\n                      className=\"form-input\"\n                    />\n                    {imagePreviews && imagePreviews.length > 0 && (\n                      <div className=\"image-preview\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))', gap: '8px', marginTop: '10px' }}>\n                        {imagePreviews.map((src, idx) => (\n                          <img key={idx} src={src} alt={`Preview ${idx+1}`} style={{ width: '100%', height: '80px', objectFit: 'cover', borderRadius: '6px' }} />\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"form-group\">\n                    <div className=\"form-static\">\n                      <div><strong>Price Breakdown</strong></div>\n                      <div>Base Price: ₹{Number(product.price)}</div>\n                      {extraCost > 0 && (\n                        <>\n                          {isSmall ? (\n                            (() => {\n                              const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n                              const name1Cost = calcNameExtraCost(customization.resinName1);\n                              return (\n                                <div>Name (letters: {letters1}): ₹{name1Cost}</div>\n                              );\n                            })()\n                          ) : (\n                            (() => {\n                              const letters1 = Math.min(50, (customization.resinName1 || '').replace(/\\s+/g, '').length);\n                              const letters2 = Math.min(50, (customization.resinName2 || '').replace(/\\s+/g, '').length);\n                              const name1Cost = calcNameExtraCost(customization.resinName1);\n                              const name2Cost = calcNameExtraCost(customization.resinName2);\n                              return (\n                                <>\n                                  {customization.resinName1 && <div>Name 1 (letters: {letters1}): ₹{name1Cost}</div>}\n                                  {customization.resinName2 && <div>Name 2 (letters: {letters2}): ₹{name2Cost}</div>}\n                                  <div>Extras Total: ₹{name1Cost + name2Cost}</div>\n                                </>\n                              );\n                            })()\n                          )}\n                        </>\n                      )}\n                      <div><strong>Final Price: ₹{finalPrice}</strong></div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })()}\n            {(() => {\n              const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n              const isFrame = productType.includes('frame') && !productType.includes('resin');\n              if (!isFrame) return null;\n              const isSmall = (product?.id || '').toLowerCase().includes('small') || (product?.name || '').toLowerCase().includes('small');\n              const sizeText = isSmall ? '8x15 inches' : '13x19 inches';\n              const maxPhotos = 10;\n              const idOrNameRender = ((product?.id || '') + ' ' + (product?.name || '')).toLowerCase();\n              const idRawR = (product?.id || '').toLowerCase();\n              const variant = frameVariant || (idOrNameRender.includes('custom') ? 'custom' : ((idRawR.includes('1-200set') || idRawR.includes('1-500set') || idRawR.includes('small1') || idRawR.includes('small2') || idRawR.includes('big2')) ? product.id : (isSmall ? 'small1_1note_1name' : 'big1_1-200set_2notes_2names')));\n              const extraCost = variant === 'custom'\n                ? ((customization.customNames || []).reduce((sum, n) => sum + calcNameExtraCost(n), 0)\n                   + ( (customization.customNotes || []).reduce((sum, note) => sum + (note?.currency ? getNotePrice(note.currency) : 0), 0) ))\n                : (variant.includes('2names')\n                  ? (calcNameExtraCost(customization.frameName1) + calcNameExtraCost(customization.frameName2))\n                  : calcNameExtraCost(customization.frameName1));\n              const finalPrice = Number(product.price) + extraCost;\n              return (\n                <div className=\"frame-section\">\n                  {/* Frame size info */}\n                  <div className=\"form-group\">\n                    <div className=\"form-static\">Size: {sizeText}</div>\n                  </div>\n                  {/* Friendly frame type label (no selection buttons) */}\n                  <div className=\"form-group\">\n                    <div className=\"form-static\">\n                      Frame Type: {\n                        (() => {\n                          if (variant === 'custom') return 'Custom';\n                          if (isSmall) {\n                            if (variant === 'small1_1note_1name') return 'Small (Type 1)';\n                            if (variant === 'small2_2notes_2names') return 'Small (Type 2)';\n                            return 'Small';\n                          } else {\n                            if (variant === 'big1_1-200set_2notes_2names') return 'Big (Type 1)';\n                            if (variant === 'big1_1-500set_2notes_2names') return 'Big (Type 2)';\n                            if (variant === 'big2_1-500set_2notes_2names') return 'Big (Type 2)';\n                            return 'Big';\n                          }\n                        })()\n                      }\n                    </div>\n                  </div>\n\n                  {/* Conditional inputs by variant */}\n                  {variant === 'custom' && (\n                    <>\n                      {/* Custom: only Names and Notes controls */}\n                      <div className=\"form-group\">\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                          <label>Names</label>\n                          <button type=\"button\" className=\"btn btn-outline\" onClick={addCustomName}>Add Name</button>\n                        </div>\n                        {(customization.customNames || []).map((nm, i) => {\n                          const letters = Math.min(50, (nm || '').replace(/\\s+/g, '').length);\n                          const cost = calcNameExtraCost(nm);\n                          return (\n                            <div key={`cname-${i}`} style={{ display: 'grid', gridTemplateColumns: '1fr auto', gap: '8px', marginTop: '8px' }}>\n                              <input\n                                type=\"text\"\n                                value={nm}\n                                onChange={(e) => updateCustomName(i, e.target.value)}\n                                className=\"form-input\"\n                                placeholder={`Name ${i + 1}`}\n                                maxLength={50}\n                              />\n                              <button type=\"button\" className=\"btn btn-outline\" onClick={() => removeCustomName(i)}>Remove</button>\n                              {nm && (\n                                <div style={{ gridColumn: '1 / -1', fontSize: '0.85rem', color: '#555' }}>\n                                  Letters: {letters} — ₹{cost}\n                                </div>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n\n                      {/* Dynamic Notes */}\n                      <div className=\"form-group\">\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                          <label>Notes (min 3)</label>\n                          <button type=\"button\" className=\"btn btn-outline\" onClick={addCustomNote}>Add Note</button>\n                        </div>\n                        {(customization.customNotes || []).map((note, i) => (\n                          <div key={`cnote-${i}`} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr auto', gap: '8px', marginTop: '8px' }}>\n                            <input\n                              type=\"date\"\n                              value={note?.date || ''}\n                              onChange={(e) => updateCustomNote(i, 'date', e.target.value)}\n                              className=\"form-input\"\n                            />\n                            <select\n                              value={note?.currency || ''}\n                              onChange={(e) => updateCustomNote(i, 'currency', e.target.value)}\n                              className=\"form-input\"\n                            >\n                              <option value=\"\">Currency</option>\n                              {[1,5,10,20,50,100,200,500].map((v) => (\n                                <option key={v} value={String(v)}>{v}</option>\n                              ))}\n                            </select>\n                            <button type=\"button\" className=\"btn btn-outline\" onClick={() => removeCustomNote(i)}>Remove</button>\n                          </div>\n                        ))}\n                        <small className=\"helper-text\">Add at least 3 notes with both Date and Currency.</small>\n                      </div>\n                    </>\n                  )}\n                  {variant.startsWith('small1') && (\n                    <>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameName1\">Name *</label>\n                        <input\n                          type=\"text\"\n                          id=\"frameName1\"\n                          value={customization.frameName1}\n                          onChange={(e) => handleInputChange('frameName1', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameEvent\">Event *</label>\n                        <select\n                          id=\"frameEvent\"\n                          value={customization.frameEvent}\n                          onChange={(e) => handleInputChange('frameEvent', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        >\n                          <option value=\"\">-- Select an Event --</option>\n                          <option value=\"Anniversary\">Anniversary</option>\n                          <option value=\"Wedding\">Wedding</option>\n                          <option value=\"Birthday\">Birthday</option>\n                          <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                          <option value=\"Retirement\">Retirement</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                        {customization.frameEvent === 'Other' && (\n                          <input\n                            type=\"text\"\n                            value={customization.frameEventOther}\n                            onChange={(e) => handleInputChange('frameEventOther', e.target.value)}\n                            placeholder=\"Please specify the event\"\n                            className=\"form-input\"\n                            style={{ marginTop: '10px' }}\n                            required\n                          />\n                        )}\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameEventDate\">Event Date *</label>\n                        <input\n                          type=\"date\"\n                          id=\"frameEventDate\"\n                          value={customization.frameEventDate}\n                          onChange={(e) => handleInputChange('frameEventDate', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                    </>\n                  )}\n\n                  {variant.startsWith('small2') && (\n                    <>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameName1\">Name 1 *</label>\n                        <input\n                          type=\"text\"\n                          id=\"frameName1\"\n                          value={customization.frameName1}\n                          onChange={(e) => handleInputChange('frameName1', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameDate1\">Date 1 *</label>\n                        <input\n                          type=\"date\"\n                          id=\"frameDate1\"\n                          value={customization.frameDate1}\n                          onChange={(e) => handleInputChange('frameDate1', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameName2\">Name 2 *</label>\n                        <input\n                          type=\"text\"\n                          id=\"frameName2\"\n                          value={customization.frameName2}\n                          onChange={(e) => handleInputChange('frameName2', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameDate2\">Date 2 *</label>\n                        <input\n                          type=\"date\"\n                          id=\"frameDate2\"\n                          value={customization.frameDate2}\n                          onChange={(e) => handleInputChange('frameDate2', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameEvent\">Event *</label>\n                        <select\n                          id=\"frameEvent\"\n                          value={customization.frameEvent}\n                          onChange={(e) => handleInputChange('frameEvent', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        >\n                          <option value=\"\">-- Select an Event --</option>\n                          <option value=\"Anniversary\">Anniversary</option>\n                          <option value=\"Wedding\">Wedding</option>\n                          <option value=\"Birthday\">Birthday</option>\n                          <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                          <option value=\"Retirement\">Retirement</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                        {customization.frameEvent === 'Other' && (\n                          <input\n                            type=\"text\"\n                            value={customization.frameEventOther}\n                            onChange={(e) => handleInputChange('frameEventOther', e.target.value)}\n                            placeholder=\"Please specify the event\"\n                            className=\"form-input\"\n                            style={{ marginTop: '10px' }}\n                            required\n                          />\n                        )}\n                      </div>\n                    </>\n                  )}\n\n                  {variant.startsWith('big') && (\n                    <>\n                      {!isSmall && (\n                        <div className=\"form-group\">\n                          <div className=\"form-static\">Set: {getSetFromVariant(variant)}</div>\n                        </div>\n                      )}\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameEvent\">Event *</label>\n                        <select\n                          id=\"frameEvent\"\n                          value={customization.frameEvent}\n                          onChange={(e) => handleInputChange('frameEvent', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        >\n                          <option value=\"\">-- Select an Event --</option>\n                          <option value=\"Anniversary\">Anniversary</option>\n                          <option value=\"Wedding\">Wedding</option>\n                          <option value=\"Birthday\">Birthday</option>\n                          <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                          <option value=\"Retirement\">Retirement</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                        {customization.frameEvent === 'Other' && (\n                          <input\n                            type=\"text\"\n                            value={customization.frameEventOther}\n                            onChange={(e) => handleInputChange('frameEventOther', e.target.value)}\n                            placeholder=\"Please specify the event\"\n                            className=\"form-input\"\n                            style={{ marginTop: '10px' }}\n                            required\n                          />\n                        )}\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameEventDate\">Event Date *</label>\n                        <input\n                          type=\"date\"\n                          id=\"frameEventDate\"\n                          value={customization.frameEventDate}\n                          onChange={(e) => handleInputChange('frameEventDate', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                        <small className=\"helper-text\">Event and Event Date will appear in the set.</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameName1\">Name 1 *</label>\n                        <input\n                          type=\"text\"\n                          id=\"frameName1\"\n                          value={customization.frameName1}\n                          onChange={(e) => handleInputChange('frameName1', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameDate1\">Date 1 *</label>\n                        <input\n                          type=\"date\"\n                          id=\"frameDate1\"\n                          value={customization.frameDate1}\n                          onChange={(e) => handleInputChange('frameDate1', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameName2\">Name 2 *</label>\n                        <input\n                          type=\"text\"\n                          id=\"frameName2\"\n                          value={customization.frameName2}\n                          onChange={(e) => handleInputChange('frameName2', e.target.value)}\n                          className=\"form-input\"\n                          maxLength={50}\n                          required\n                        />\n                        <small className=\"helper-text\">Pricing: ≤10 letters: ₹45 flat; {'>'}10 letters: ₹40 per letter (max 50 letters).</small>\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"frameDate2\">Date 2 *</label>\n                        <input\n                          type=\"date\"\n                          id=\"frameDate2\"\n                          value={customization.frameDate2}\n                          onChange={(e) => handleInputChange('frameDate2', e.target.value)}\n                          className=\"form-input\"\n                          required\n                        />\n                      </div>\n                      {/* Set info moved to top of big frame section */}\n                    </>\n                  )}\n\n                  {/* Frames image upload (up to 10) */}\n                  <div className=\"form-group\">\n                    <label htmlFor=\"frameImages\">Upload Photos (up to {maxPhotos})</label>\n                    <input\n                      type=\"file\"\n                      id=\"frameImages\"\n                      onChange={handleImageChange}\n                      accept=\"image/*\"\n                      multiple\n                      required\n                      className=\"form-input\"\n                    />\n                    {imagePreviews && imagePreviews.length > 0 && (\n                      <div className=\"image-preview\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))', gap: '8px', marginTop: '10px' }}>\n                        {imagePreviews.map((src, idx) => (\n                          <img key={idx} src={src} alt={`Preview ${idx+1}`} style={{ width: '100%', height: '80px', objectFit: 'cover', borderRadius: '6px' }} />\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"form-group\">\n                    <div className=\"form-static\">\n                      <div><strong>Price Breakdown</strong></div>\n                      <div>Base Price: ₹{Number(product.price)}</div>\n                      {extraCost > 0 && (\n                        <>\n                          {variant === 'custom' ? (\n                            (() => {\n                              const nameItems = (customization.customNames || []).map((nm, i) => ({\n                                letters: Math.min(50, (nm || '').replace(/\\s+/g, '').length),\n                                cost: calcNameExtraCost(nm)\n                              }));\n                              const noteItems = (customization.customNotes || [])\n                                .map((note, i) => ({\n                                  currency: note?.currency,\n                                  cost: note?.currency ? getNotePrice(note.currency) : 0,\n                                  index: i\n                                }))\n                                .filter(it => !!it.currency);\n                              return (\n                                <>\n                                  {nameItems.map((it, i) => (\n                                    <div key={`pbname-${i}`}>Name {i+1} (letters: {it.letters}): ₹{it.cost}</div>\n                                  ))}\n                                  {noteItems.map((it) => (\n                                    <div key={`pbnote-${it.index}`}>Note {it.index + 1} (₹{it.currency}): ₹{it.cost}</div>\n                                  ))}\n                                  <div>Extras Total: ₹{[...nameItems, ...noteItems].reduce((s, x) => s + x.cost, 0)}</div>\n                                </>\n                              );\n                            })()\n                          ) : variant.startsWith('small1') ? (\n                            (() => {\n                              const letters1 = Math.min(50, (customization.frameName1 || '').replace(/\\s+/g, '').length);\n                              const name1Cost = calcNameExtraCost(customization.frameName1);\n                              return (\n                                <div>Name (letters: {letters1}): ₹{name1Cost}</div>\n                              );\n                            })()\n                          ) : (\n                            (() => {\n                              const letters1 = Math.min(50, (customization.frameName1 || '').replace(/\\s+/g, '').length);\n                              const letters2 = Math.min(50, (customization.frameName2 || '').replace(/\\s+/g, '').length);\n                              const name1Cost = calcNameExtraCost(customization.frameName1);\n                              const name2Cost = calcNameExtraCost(customization.frameName2);\n                              return (\n                                <>\n                                  {customization.frameName1 && <div>Name 1 (letters: {letters1}): ₹{name1Cost}</div>}\n                                  {customization.frameName2 && <div>Name 2 (letters: {letters2}): ₹{name2Cost}</div>}\n                                  <div>Extras Total: ₹{name1Cost + name2Cost}</div>\n                                </>\n                              );\n                            })()\n                          )}\n                        </>\n                      )}\n                      <div><strong>Final Price: ₹{finalPrice}</strong></div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })()}\n            {(() => {\n              const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n              const isZodiac = productType.includes('zodiac') || productType.includes('coin') || productType.includes('stamp');\n              if (!isZodiac) return null;\n              return (\n                <div className=\"form-group\">\n                  <label htmlFor=\"zodiacSign\">Zodiac Sign *</label>\n                  <select\n                    id=\"zodiacSign\"\n                    value={customization.zodiacSign}\n                    onChange={(e) => handleInputChange('zodiacSign', e.target.value)}\n                    className=\"form-input\"\n                    required\n                  >\n                    <option value=\"\">-- Select your Zodiac Sign --</option>\n                    <option value=\"Aries\">Aries (Mar 21 - Apr 19)</option>\n                    <option value=\"Taurus\">Taurus (Apr 20 - May 20)</option>\n                    <option value=\"Gemini\">Gemini (May 21 - Jun 20)</option>\n                    <option value=\"Cancer\">Cancer (Jun 21 - Jul 22)</option>\n                    <option value=\"Leo\">Leo (Jul 23 - Aug 22)</option>\n                    <option value=\"Virgo\">Virgo (Aug 23 - Sep 22)</option>\n                    <option value=\"Libra\">Libra (Sep 23 - Oct 22)</option>\n                    <option value=\"Scorpio\">Scorpio (Oct 23 - Nov 21)</option>\n                    <option value=\"Sagittarius\">Sagittarius (Nov 22 - Dec 21)</option>\n                    <option value=\"Capricorn\">Capricorn (Dec 22 - Jan 19)</option>\n                    <option value=\"Aquarius\">Aquarius (Jan 20 - Feb 18)</option>\n                    <option value=\"Pisces\">Pisces (Feb 19 - Mar 20)</option>\n                  </select>\n                </div>\n              );\n            })()}\n            {shouldShowField('specialData') && (\n              <div className=\"form-group\">\n                <label htmlFor=\"specialData\">{getFieldLabel('specialData')}</label>\n                <input\n                  type=\"date\"\n                  id=\"specialData\"\n                  value={customization.specialData}\n                  onChange={(e) => handleInputChange('specialData', e.target.value)}\n                  className=\"form-input\"\n                  required\n                />\n              </div>\n            )}\n\n            {shouldShowField('names') && (\n              <div className=\"form-group\">\n                <label htmlFor=\"names\">{getFieldLabel('names')}</label>\n                <input\n                  type=\"text\"\n                  id=\"names\"\n                  value={customization.names}\n                  onChange={(e) => handleInputChange('names', e.target.value)}\n                  placeholder={getPlaceholderText('names')}\n                  className=\"form-input\"\n                />\n              </div>\n            )}\n\n            {shouldShowField('description') && (() => {\n              const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n              const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n\n              if (isCurrencyNote) {\n                return (\n                  <div className=\"form-group\">\n                    <label htmlFor=\"event\">Event *</label>\n                    <select\n                      id=\"event\"\n                      value={customization.event}\n                      onChange={(e) => handleInputChange('event', e.target.value)}\n                      className=\"form-input\"\n                      required\n                    >\n                      <option value=\"\">-- Select an Event --</option>\n                      <option value=\"Anniversary\">Anniversary</option>\n                      <option value=\"Wedding\">Wedding</option>\n                      <option value=\"Birthday\">Birthday</option>\n                      <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                      <option value=\"Retirement\">Retirement</option>\n                      <option value=\"Other\">Other</option>\n                    </select>\n                    {customization.event === 'Other' && (\n                      <input\n                        type=\"text\"\n                        value={customization.customEvent}\n                        onChange={(e) => handleInputChange('customEvent', e.target.value)}\n                        placeholder=\"Please specify the event\"\n                        className=\"form-input\"\n                        style={{ marginTop: '10px' }}\n                        required\n                      />\n                    )}\n                  </div>\n                );\n              } else {\n                return (\n                  <div className=\"form-group\">\n                    <label htmlFor=\"description\">{getFieldLabel('description')}</label>\n                    <textarea\n                      id=\"description\"\n                      value={customization.description}\n                      onChange={(e) => handleInputChange('description', e.target.value)}\n                      placeholder={getPlaceholderText('description')}\n                      className=\"form-textarea\"\n                      rows=\"3\"\n                    />\n                  </div>\n                );\n              }\n            })()}\n\n            {/* Image upload - generic (kept for currency notes only) */}\n            {shouldShowField('description') && shouldShowImageUpload() && (\n              <div className=\"form-group\">\n                <label htmlFor=\"customImage\">Upload Image</label>\n                <input\n                  type=\"file\"\n                  id=\"customImage\"\n                  onChange={handleImageChange}\n                  accept=\"image/*\"\n                  multiple\n                  className=\"form-input\"\n                />\n                {imagePreviews && imagePreviews.length > 0 && (\n                  <div className=\"image-preview\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))', gap: '8px', marginTop: '10px' }}>\n                    {imagePreviews.map((src, idx) => (\n                      <img key={idx} src={src} alt={`Preview ${idx+1}`} style={{ width: '100%', height: '80px', objectFit: 'cover', borderRadius: '6px' }} />\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            <div className=\"modal-actions\">\n              <button type=\"button\" className=\"btn btn-outline\" onClick={onClose} disabled={imageUploading || isSubmitting}>\n                Cancel\n              </button>\n              <button type=\"submit\" className=\"btn btn-primary\" disabled={imageUploading || isSubmitting}>\n                {isSubmitting ? 'Submitting...' : (imageUploading ? 'Uploading...' : 'Add to Cart')}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomizationModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}