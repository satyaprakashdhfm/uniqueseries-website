{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\satya3479\\\\OneDrive\\\\Desktop\\\\real\\\\trail1\\\\src\\\\components\\\\CustomizationModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport './CustomizationModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomizationModal = ({\n  isOpen,\n  onClose,\n  product,\n  onAddToCart\n}) => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [customization, setCustomization] = useState({\n    specialData: '',\n    names: '',\n    description: '',\n    event: '',\n    customEvent: ''\n  });\n  const [imageFiles, setImageFiles] = useState([]);\n  const [imagePreviews, setImagePreviews] = useState([]);\n  const [imageUploading, setImageUploading] = useState(false);\n\n  // Reset form when modal opens/closes or product changes\n  useEffect(() => {\n    if (isOpen) {\n      setCustomization({\n        specialData: '',\n        names: '',\n        description: '',\n        event: '',\n        customEvent: ''\n      });\n      setImageFiles([]);\n      setImagePreviews([]);\n    }\n  }, [isOpen, product]);\n  const handleInputChange = (field, value) => {\n    setCustomization(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files || []);\n    if (files.length) {\n      setImageFiles(files);\n      // Create previews\n      Promise.all(files.map(file => new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result);\n        reader.readAsDataURL(file);\n      }))).then(previews => setImagePreviews(previews));\n    } else {\n      setImageFiles([]);\n      setImagePreviews([]);\n    }\n  };\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n  const uploadImages = async () => {\n    if (!imageFiles || imageFiles.length === 0) return [];\n    setImageUploading(true);\n    try {\n      const formData = new FormData();\n      imageFiles.forEach(f => formData.append('images', f));\n      // Add structured upload helpers\n      if (user !== null && user !== void 0 && user.email) formData.append('userId', user.email);\n      if (user !== null && user !== void 0 && user.name) formData.append('userName', user.name);\n      if (product !== null && product !== void 0 && product.name) formData.append('namePrefix', product.name);\n      const response = await api.post('/upload/multiple', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = response.data;\n      setImageUploading(false);\n      if (data.success && Array.isArray(data.images)) {\n        var _data$images$;\n        const urls = data.images.map(x => x.imageUrl).filter(Boolean);\n        const names = data.images.map(x => x.originalName || '').filter(Boolean);\n        const folder = ((_data$images$ = data.images[0]) === null || _data$images$ === void 0 ? void 0 : _data$images$.folder) || '';\n        return {\n          urls,\n          names,\n          folder\n        };\n      }\n      console.error('Upload failed:', data.message || data);\n      return {\n        urls: [],\n        names: []\n      };\n    } catch (error) {\n      console.error('Image upload error:', error);\n      setImageUploading(false);\n      return {\n        urls: [],\n        names: []\n      };\n    }\n  };\n  const handleSubmit = async e => {\n    var _product$category, _product$type;\n    e.preventDefault();\n    let imageUrl = null;\n    const productType = ((_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.toLowerCase()) || ((_product$type = product.type) === null || _product$type === void 0 ? void 0 : _product$type.toLowerCase()) || '';\n    const isFrameOrResin = productType.includes('frame') || productType.includes('resin');\n    const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n    let imageUrls = [];\n    let imageNames = [];\n    let folder = '';\n    if (isFrameOrResin && imageFiles.length > 0) {\n      const res = await uploadImages();\n      imageUrls = res.urls || [];\n      imageNames = res.names || [];\n      folder = res.folder || '';\n    }\n    const customizationData = {\n      ...customization\n    };\n    if (imageUrls.length > 0) {\n      customizationData.imageUrls = imageUrls;\n      if (imageNames.length > 0) customizationData.imageNames = imageNames;\n      if (folder) customizationData.folder = folder;\n    }\n    if (isCurrencyNote) {\n      const eventValue = customization.event === 'Other' ? customization.customEvent : customization.event;\n      customizationData.description = eventValue;\n    }\n    onAddToCart(product, 1, customizationData);\n    onClose();\n  };\n  const getPlaceholderText = field => {\n    var _product$category2, _product$type2;\n    if (!product) return '';\n    const productType = ((_product$category2 = product.category) === null || _product$category2 === void 0 ? void 0 : _product$category2.toLowerCase()) || ((_product$type2 = product.type) === null || _product$type2 === void 0 ? void 0 : _product$type2.toLowerCase()) || '';\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Anniversary (12/05/2020), Birthday (15/08/1995)';\n        }\n        if (productType.includes('zodiac') || productType.includes('coin')) {\n          return 'e.g., Leo, Virgo, Scorpio';\n        }\n        return 'Special date or occasion';\n      case 'description':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'e.g., Wedding special with bride and groom, 25th Anniversary gift, Birthday surprise for mom';\n        }\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Gift for dad\\'s retirement, Lucky number for business, Special memory from our wedding day';\n        }\n        return 'Additional details or description';\n      default:\n        return '';\n    }\n  };\n  const getFieldLabel = field => {\n    var _product$category3, _product$type3;\n    if (!product) return '';\n    const productType = ((_product$category3 = product.category) === null || _product$category3 === void 0 ? void 0 : _product$category3.toLowerCase()) || ((_product$type3 = product.type) === null || _product$type3 === void 0 ? void 0 : _product$type3.toLowerCase()) || '';\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'Special Date *';\n        }\n        if (productType.includes('zodiac') || productType.includes('coin')) {\n          return 'Zodiac Sign';\n        }\n        return 'Special Information';\n      case 'names':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'Names';\n        }\n        return 'Names';\n      case 'description':\n        return 'Description';\n      default:\n        return '';\n    }\n  };\n  const shouldShowField = field => {\n    var _product$category4, _product$type4;\n    if (!product) return false;\n    const productType = ((_product$category4 = product.category) === null || _product$category4 === void 0 ? void 0 : _product$category4.toLowerCase()) || ((_product$type4 = product.type) === null || _product$type4 === void 0 ? void 0 : _product$type4.toLowerCase()) || '';\n    switch (field) {\n      case 'specialData':\n        return productType.includes('currency') || productType.includes('note') || productType.includes('zodiac') || productType.includes('coin');\n      case 'names':\n        return false;\n      // Remove names field completely\n\n      case 'description':\n        return productType.includes('frame') || productType.includes('resin') || productType.includes('currency') || productType.includes('note');\n      // Show for frames/resin and currency notes\n\n      default:\n        return false;\n    }\n  };\n\n  // Check if this is a frame or resin product to show image upload\n  const shouldShowImageUpload = () => {\n    var _product$category5, _product$type5;\n    if (!product) return false;\n    const productType = ((_product$category5 = product.category) === null || _product$category5 === void 0 ? void 0 : _product$category5.toLowerCase()) || ((_product$type5 = product.type) === null || _product$type5 === void 0 ? void 0 : _product$type5.toLowerCase()) || '';\n    return productType.includes('frame') || productType.includes('resin');\n  };\n  if (!isOpen || !product) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"customization-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"customization-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Order Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"product-price\",\n            children: [\"\\u20B9\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"customization-form\",\n          children: [shouldShowField('specialData') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"specialData\",\n              children: getFieldLabel('specialData')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"specialData\",\n              value: customization.specialData,\n              onChange: e => handleInputChange('specialData', e.target.value),\n              className: \"form-input\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), shouldShowField('names') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"names\",\n              children: getFieldLabel('names')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"names\",\n              value: customization.names,\n              onChange: e => handleInputChange('names', e.target.value),\n              placeholder: getPlaceholderText('names'),\n              className: \"form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), shouldShowField('description') && ((_product$category6, _product$type6) => {\n            const productType = ((_product$category6 = product.category) === null || _product$category6 === void 0 ? void 0 : _product$category6.toLowerCase()) || ((_product$type6 = product.type) === null || _product$type6 === void 0 ? void 0 : _product$type6.toLowerCase()) || '';\n            const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n            if (isCurrencyNote) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"event\",\n                  children: \"Event *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"event\",\n                  value: customization.event,\n                  onChange: e => handleInputChange('event', e.target.value),\n                  className: \"form-input\",\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Select an Event --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Anniversary\",\n                    children: \"Anniversary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Wedding\",\n                    children: \"Wedding\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Birthday\",\n                    children: \"Birthday\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"House Warming Ceremony\",\n                    children: \"House Warming Ceremony\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Retirement\",\n                    children: \"Retirement\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), customization.event === 'Other' && /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customization.customEvent,\n                  onChange: e => handleInputChange('customEvent', e.target.value),\n                  placeholder: \"Please specify the event\",\n                  className: \"form-input\",\n                  style: {\n                    marginTop: '10px'\n                  },\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"description\",\n                  children: getFieldLabel('description')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"description\",\n                  value: customization.description,\n                  onChange: e => handleInputChange('description', e.target.value),\n                  placeholder: getPlaceholderText('description'),\n                  className: \"form-textarea\",\n                  rows: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this);\n            }\n          })(), shouldShowField('description') && shouldShowImageUpload() && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"customImage\",\n              children: \"Upload Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"customImage\",\n              onChange: handleImageChange,\n              accept: \"image/*\",\n              multiple: true,\n              className: \"form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), imagePreviews && imagePreviews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-preview\",\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))',\n                gap: '8px',\n                marginTop: '10px'\n              },\n              children: imagePreviews.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n                src: src,\n                alt: `Preview ${idx + 1}`,\n                style: {\n                  width: '100%',\n                  height: '80px',\n                  objectFit: 'cover',\n                  borderRadius: '6px'\n                }\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline\",\n              onClick: onClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: imageUploading,\n              children: imageUploading ? 'Uploading...' : 'Add to Cart'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomizationModal, \"oT0S3FePdhR8Q3cuZgs7GrPWmi0=\", false, function () {\n  return [useAuth];\n});\n_c = CustomizationModal;\nexport default CustomizationModal;\nvar _c;\n$RefreshReg$(_c, \"CustomizationModal\");","map":{"version":3,"names":["React","useState","useEffect","api","useAuth","jsxDEV","_jsxDEV","CustomizationModal","isOpen","onClose","product","onAddToCart","_s","user","customization","setCustomization","specialData","names","description","event","customEvent","imageFiles","setImageFiles","imagePreviews","setImagePreviews","imageUploading","setImageUploading","handleInputChange","field","value","prev","handleImageChange","e","files","Array","from","target","length","Promise","all","map","file","resolve","reader","FileReader","onloadend","result","readAsDataURL","then","previews","API_BASE","process","env","REACT_APP_API_URL","uploadImages","formData","FormData","forEach","f","append","email","name","response","post","headers","data","success","isArray","images","_data$images$","urls","x","imageUrl","filter","Boolean","originalName","folder","console","error","message","handleSubmit","_product$category","_product$type","preventDefault","productType","category","toLowerCase","type","isFrameOrResin","includes","isCurrencyNote","imageUrls","imageNames","res","customizationData","eventValue","getPlaceholderText","_product$category2","_product$type2","getFieldLabel","_product$category3","_product$type3","shouldShowField","_product$category4","_product$type4","shouldShowImageUpload","_product$category5","_product$type5","className","onClick","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","price","onSubmit","htmlFor","id","onChange","required","placeholder","_product$category6","_product$type6","style","marginTop","rows","accept","multiple","display","gridTemplateColumns","gap","src","idx","alt","width","height","objectFit","borderRadius","disabled","_c","$RefreshReg$"],"sources":["C:/Users/satya3479/OneDrive/Desktop/real/trail1/src/components/CustomizationModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport './CustomizationModal.css';\n\nconst CustomizationModal = ({ isOpen, onClose, product, onAddToCart }) => {\n  const { user } = useAuth();\n  const [customization, setCustomization] = useState({\n    specialData: '',\n    names: '',\n    description: '',\n    event: '',\n    customEvent: ''\n  });\n  const [imageFiles, setImageFiles] = useState([]);\n  const [imagePreviews, setImagePreviews] = useState([]);\n  const [imageUploading, setImageUploading] = useState(false);\n\n  // Reset form when modal opens/closes or product changes\n  useEffect(() => {\n    if (isOpen) {\n      setCustomization({\n        specialData: '',\n        names: '',\n        description: '',\n        event: '',\n        customEvent: ''\n      });\n      setImageFiles([]);\n      setImagePreviews([]);\n    }\n  }, [isOpen, product]);\n\n  const handleInputChange = (field, value) => {\n    setCustomization(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleImageChange = (e) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length) {\n      setImageFiles(files);\n      // Create previews\n      Promise.all(\n        files.map(\n          (file) =>\n            new Promise((resolve) => {\n              const reader = new FileReader();\n              reader.onloadend = () => resolve(reader.result);\n              reader.readAsDataURL(file);\n            })\n        )\n      ).then((previews) => setImagePreviews(previews));\n    } else {\n      setImageFiles([]);\n      setImagePreviews([]);\n    }\n  };\n\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\n  const uploadImages = async () => {\n    if (!imageFiles || imageFiles.length === 0) return [];\n    setImageUploading(true);\n    try {\n      const formData = new FormData();\n      imageFiles.forEach((f) => formData.append('images', f));\n      // Add structured upload helpers\n      if (user?.email) formData.append('userId', user.email);\n      if (user?.name) formData.append('userName', user.name);\n      if (product?.name) formData.append('namePrefix', product.name);\n\n      const response = await api.post('/upload/multiple', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      const data = response.data;\n      setImageUploading(false);\n      if (data.success && Array.isArray(data.images)) {\n        const urls = data.images.map((x) => x.imageUrl).filter(Boolean);\n        const names = data.images.map((x) => x.originalName || '').filter(Boolean);\n        const folder = data.images[0]?.folder || '';\n        return { urls, names, folder };\n      }\n      console.error('Upload failed:', data.message || data);\n      return { urls: [], names: [] };\n    } catch (error) {\n      console.error('Image upload error:', error);\n      setImageUploading(false);\n      return { urls: [], names: [] };\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    let imageUrl = null;\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n    const isFrameOrResin = productType.includes('frame') || productType.includes('resin');\n    const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n\n    let imageUrls = [];\n    let imageNames = [];\n    let folder = '';\n    if (isFrameOrResin && imageFiles.length > 0) {\n      const res = await uploadImages();\n      imageUrls = res.urls || [];\n      imageNames = res.names || [];\n      folder = res.folder || '';\n    }\n\n    const customizationData = { ...customization };\n    if (imageUrls.length > 0) {\n      customizationData.imageUrls = imageUrls;\n      if (imageNames.length > 0) customizationData.imageNames = imageNames;\n      if (folder) customizationData.folder = folder;\n    }\n\n    if (isCurrencyNote) {\n      const eventValue = customization.event === 'Other' ? customization.customEvent : customization.event;\n      customizationData.description = eventValue;\n    }\n    \n    onAddToCart(product, 1, customizationData);\n    onClose();\n  };\n\n  const getPlaceholderText = (field) => {\n    if (!product) return '';\n\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Anniversary (12/05/2020), Birthday (15/08/1995)';\n        }\n        if (productType.includes('zodiac') || productType.includes('coin')) {\n          return 'e.g., Leo, Virgo, Scorpio';\n        }\n        return 'Special date or occasion';\n\n      case 'description':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'e.g., Wedding special with bride and groom, 25th Anniversary gift, Birthday surprise for mom';\n        }\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'e.g., Gift for dad\\'s retirement, Lucky number for business, Special memory from our wedding day';\n        }\n        return 'Additional details or description';\n\n      default:\n        return '';\n    }\n  };\n\n  const getFieldLabel = (field) => {\n    if (!product) return '';\n\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n\n    switch (field) {\n      case 'specialData':\n        if (productType.includes('currency') || productType.includes('note')) {\n          return 'Special Date *';\n        }\n        if (productType.includes('zodiac') || productType.includes('coin')) {\n          return 'Zodiac Sign';\n        }\n        return 'Special Information';\n\n      case 'names':\n        if (productType.includes('frame') || productType.includes('resin')) {\n          return 'Names';\n        }\n        return 'Names';\n\n      case 'description':\n        return 'Description';\n\n      default:\n        return '';\n    }\n  };\n\n  const shouldShowField = (field) => {\n    if (!product) return false;\n\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n\n    switch (field) {\n      case 'specialData':\n        return productType.includes('currency') || productType.includes('note') || \n               productType.includes('zodiac') || productType.includes('coin');\n      \n      case 'names':\n        return false; // Remove names field completely\n      \n      case 'description':\n        return productType.includes('frame') || productType.includes('resin') || \n               productType.includes('currency') || productType.includes('note'); // Show for frames/resin and currency notes\n      \n      default:\n        return false;\n    }\n  };\n\n  // Check if this is a frame or resin product to show image upload\n  const shouldShowImageUpload = () => {\n    if (!product) return false;\n    const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n    return productType.includes('frame') || productType.includes('resin');\n  };\n\n  if (!isOpen || !product) return null;\n\n  return (\n    <div className=\"customization-modal-overlay\" onClick={onClose}>\n      <div className=\"customization-modal\" onClick={e => e.stopPropagation()}>\n        <div className=\"modal-header\">\n          <h2>Order Details</h2>\n          <button className=\"close-btn\" onClick={onClose}>×</button>\n        </div>\n\n        <div className=\"modal-body\">\n          <div className=\"product-info\">\n            <h3>{product.name}</h3>\n            <p className=\"product-price\">₹{product.price}</p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"customization-form\">\n            {shouldShowField('specialData') && (\n              <div className=\"form-group\">\n                <label htmlFor=\"specialData\">{getFieldLabel('specialData')}</label>\n                <input\n                  type=\"date\"\n                  id=\"specialData\"\n                  value={customization.specialData}\n                  onChange={(e) => handleInputChange('specialData', e.target.value)}\n                  className=\"form-input\"\n                  required\n                />\n              </div>\n            )}\n\n            {shouldShowField('names') && (\n              <div className=\"form-group\">\n                <label htmlFor=\"names\">{getFieldLabel('names')}</label>\n                <input\n                  type=\"text\"\n                  id=\"names\"\n                  value={customization.names}\n                  onChange={(e) => handleInputChange('names', e.target.value)}\n                  placeholder={getPlaceholderText('names')}\n                  className=\"form-input\"\n                />\n              </div>\n            )}\n\n            {shouldShowField('description') && (() => {\n              const productType = product.category?.toLowerCase() || product.type?.toLowerCase() || '';\n              const isCurrencyNote = productType.includes('currency') || productType.includes('note');\n\n              if (isCurrencyNote) {\n                return (\n                  <div className=\"form-group\">\n                    <label htmlFor=\"event\">Event *</label>\n                    <select\n                      id=\"event\"\n                      value={customization.event}\n                      onChange={(e) => handleInputChange('event', e.target.value)}\n                      className=\"form-input\"\n                      required\n                    >\n                      <option value=\"\">-- Select an Event --</option>\n                      <option value=\"Anniversary\">Anniversary</option>\n                      <option value=\"Wedding\">Wedding</option>\n                      <option value=\"Birthday\">Birthday</option>\n                      <option value=\"House Warming Ceremony\">House Warming Ceremony</option>\n                      <option value=\"Retirement\">Retirement</option>\n                      <option value=\"Other\">Other</option>\n                    </select>\n                    {customization.event === 'Other' && (\n                      <input\n                        type=\"text\"\n                        value={customization.customEvent}\n                        onChange={(e) => handleInputChange('customEvent', e.target.value)}\n                        placeholder=\"Please specify the event\"\n                        className=\"form-input\"\n                        style={{ marginTop: '10px' }}\n                        required\n                      />\n                    )}\n                  </div>\n                );\n              } else {\n                return (\n                  <div className=\"form-group\">\n                    <label htmlFor=\"description\">{getFieldLabel('description')}</label>\n                    <textarea\n                      id=\"description\"\n                      value={customization.description}\n                      onChange={(e) => handleInputChange('description', e.target.value)}\n                      placeholder={getPlaceholderText('description')}\n                      className=\"form-textarea\"\n                      rows=\"3\"\n                    />\n                  </div>\n                );\n              }\n            })()}\n\n            {/* Image upload - only show for frames/resin products when description field is shown */}\n            {shouldShowField('description') && shouldShowImageUpload() && (\n              <div className=\"form-group\">\n                <label htmlFor=\"customImage\">Upload Image</label>\n                <input\n                  type=\"file\"\n                  id=\"customImage\"\n                  onChange={handleImageChange}\n                  accept=\"image/*\"\n                  multiple\n                  className=\"form-input\"\n                />\n                {imagePreviews && imagePreviews.length > 0 && (\n                  <div className=\"image-preview\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))', gap: '8px', marginTop: '10px' }}>\n                    {imagePreviews.map((src, idx) => (\n                      <img key={idx} src={src} alt={`Preview ${idx+1}`} style={{ width: '100%', height: '80px', objectFit: 'cover', borderRadius: '6px' }} />\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            <div className=\"modal-actions\">\n              <button type=\"button\" className=\"btn btn-outline\" onClick={onClose}>\n                Cancel\n              </button>\n              <button type=\"submit\" className=\"btn btn-primary\" disabled={imageUploading}>\n                {imageUploading ? 'Uploading...' : 'Add to Cart'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomizationModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}